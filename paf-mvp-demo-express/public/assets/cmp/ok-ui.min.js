!function(){"use strict";var e={introHeading:"Manage your data and cookies (US)",introBody:["Advertising funds your access to our site.","We've partnered with OneKey to manage whether you prefer standard or personalized marketing when accessing participating websites. OneKey relies on a random digital ID that is an essential part of how our website operates and is used to ensure all recipients understand your preferences.","We and our partners may also use information linked to these IDs to improve our overall service. By opting-into personalized content and ads, we can improve your online experience.","If you choose not to participate, you will receive targeted content that is unrelated to your browsing activity or interactions.","You can learn more or manage your choices at any time by going to 'Privacy settings' at the bottom of any page on our site."],aboutHeading:"Learn more about (US)",aboutBody:["We believe you should have transparency and control over how, where, and why your data is used.","We partnered with OneKey, a non-profit technology, to manage your marketing preferences when accessing [BrandName].","OneKey relies on digital IDs to understand your activity and sends your preferences to our partner websites in order to customize the ads you see. IDs like these are an essential part of how [BrandName]'s website operates and provides you with a more relevant experience.","You may change your preferences at any time.","Your consent will automatically expire 2 years after you provide it. You have the right to be forgotten, which you can exercise at any time, and on any OneKey partner website simply by resetting your ID. You can also get a temporary ID by using the incognito/private browsing function of your browser.","If you choose not to participate, you will still see ads unrelated to your browsing activity.",'You can learn more and manage your choices at any time by going to "Privacy settings" at the bottom of any page. See our Privacy Policy and Privacy Notice.'],settingsHeading:"Choose your marketing preferences",settingsBody:["OneKey signals your preferences that can enhance your experience across partner websites, without bothering you with future prompts or directly identifying you.",'By saving your preferences, you also agree to our <a href="[BrandPrivacyUrl]" class="ok-ui-link">site\'s privacy policy</a>.'],settingsBrowsingId:"Your browsing ID",settingsBrowsingIdTip:"<strong>OneKey</strong> links your preferences to a random, pseudonymous ID that lasts 6 months. Use your right to be forgotten at any time by refreshing your browsing ID.",settingsPersonalizedLabel:"Turn on personalized marketing",settingsPersonalizedBody:"See more relevant content and ads.",settingsStandardLabel:"Turn on standard marketing",settingsStandardBody:"See generic content and ads.",settingsThisSite:"Apply preferences to this site only and re-ask on other OneKey sites",customizeCurrent:"Your current choice:",customizeAll:"Select all / unselect all",customizeStandard:"Standard marketing",customizePersonalized:"Personalized marketing",customizeCustomized:"Site specific marketing",customizeLabels:["Select basic ads","Create a personalized ad profile","Select personalized ads","Create a personalized content profile","Select personalized content","Measure ad performance","Measure content performance","Apply market research to generate audience insights","Develop & improve products","Select and/or access information on a device","Ensure security, prevent fraud, and debug","Technically deliver ads or content"],customizeTips:["Select basic ads","Create a personalized ad profile","Select personalized ads","Create a personalized content profile","Select personalized content","Measure ad performance","Measure content performance","Apply market research to generate audience insights","Develop & improve products","Store and/or access information on a device","Ensure security, prevent fraud, and debug","Technically deliver ads or content"],snackbarHeadingPersonalized:"You choose to see personalized content and relevant ads on [BrandName]",snackbarHeadingStandard:"You choose to see standard marketing on [BrandName]",snackbarHeadingCustomized:"You've chosen customized marketing on [BrandName]",snackbarBodyPersonalized:'<a href="#" data-card=\'settings\' class="ok-ui-link">Review your preferences</a> at any time.',snackbarBodyStandard:'Turn <a href="#" data-card=\'settings\' class="ok-ui-link">personalized marketing</a> on at any time to make your ads more relevant.',snackbarBodyCustomized:'Turn <a href="#" data-card=\'settings\' class="ok-ui-link">personalized marketing</a> on at any time to make your ads more relevant.',refuseAll:"Refuse All",proceed:"Proceed",save:"Save",customize:"Customize your experience",back:"Back",cancel:"Cancel"},t={introHeading:"Manage your data and cookies (GB)",introBody:["Advertising funds your access to our site.","We've partnered with OneKey to manage whether you prefer standard or personalized marketing when accessing participating websites. OneKey relies on a random digital ID that is an essential part of how our website operates and is used to ensure all recipients understand your preferences.","We and our partners may also use information linked to these IDs to improve our overall service. By opting-into personalized content and ads, we can improve your online experience.","If you choose not to participate, you will receive targeted content that is unrelated to your browsing activity or interactions.","You can learn more or manage your choices at any time by going to 'Privacy settings' at the bottom of any page on our site."],aboutHeading:"Learn more about (GB)",aboutBody:["We believe you should have transparency and control over how, where, and why your data is used.","We partnered with OneKey, a non-profit technology, to manage your marketing preferences when accessing [BrandName].","OneKey relies on digital IDs to understand your activity and sends your preferences to our partner websites in order to customize the ads you see. IDs like these are an essential part of how [BrandName]'s website operates and provides you with a more relevant experience.","You may change your preferences at any time.","Your consent will automatically expire 2 years after you provide it. You have the right to be forgotten, which you can exercise at any time, and on any OneKey partner website simply by resetting your ID. You can also get a temporary ID by using the incognito/private browsing function of your browser.","If you choose not to participate, you will still see ads unrelated to your browsing activity.",'You can learn more and manage your choices at any time by going to "Privacy settings" at the bottom of any page. See our Privacy Policy and Privacy Notice.'],settingsHeading:"Choose your marketing preferences",settingsBody:["OneKey signals your preferences that can enhance your experience across partner websites, without bothering you with future prompts or directly identifying you.",'By saving your preferences, you also agree to our <a href="[BrandPrivacyUrl]" class="ok-ui-link">site\'s privacy policy</a>.'],settingsBrowsingId:"Your browsing ID",settingsBrowsingIdTip:"<strong>OneKey</strong> links your preferences to a random, pseudonymous ID that lasts 6 months. Use your right to be forgotten at any time by refreshing your browsing ID.",settingsPersonalizedLabel:"Turn on personalized marketing",settingsPersonalizedBody:"See more relevant content and ads.",settingsStandardLabel:"Turn on standard marketing",settingsStandardBody:"See generic content and ads.",settingsThisSite:"Apply preferences to this site only and re-ask on other OneKey sites",customizeCurrent:"Your current choice:",customizeAll:"Select all / unselect all",customizeStandard:"Standard marketing",customizePersonalized:"Personalized marketing",customizeCustomized:"Site specific marketing",customizeLabels:["Select basic ads","Create a personalized ad profile","Select personalized ads","Create a personalized content profile","Select personalized content","Measure ad performance","Measure content performance","Apply market research to generate audience insights","Develop & improve products","Select and/or access information on a device","Ensure security, prevent fraud, and debug","Technically deliver ads or content"],customizeTips:["Select basic ads","Create a personalized ad profile","Select personalized ads","Create a personalized content profile","Select personalized content","Measure ad performance","Measure content performance","Apply market research to generate audience insights","Develop & improve products","Store and/or access information on a device","Ensure security, prevent fraud, and debug","Technically deliver ads or content"],snackbarHeadingPersonalized:"You choose to see personalized content and relevant ads on [BrandName]",snackbarHeadingStandard:"You choose to see standard marketing on [BrandName]",snackbarHeadingCustomized:"You've chosen customized marketing on [BrandName]",snackbarBodyPersonalized:'<a href="#" data-card=\'settings\' class="ok-ui-link">Review your preferences</a> at any time.',snackbarBodyStandard:'Turn <a href="#" data-card=\'settings\' class="ok-ui-link">personalized marketing</a> on at any time to make your ads more relevant.',snackbarBodyCustomized:'Turn <a href="#" data-card=\'settings\' class="ok-ui-link">personalized marketing</a> on at any time to make your ads more relevant.',refuseAll:"Refuse All",proceed:"Proceed",save:"Save",customize:"Customize your experience",back:"Back",cancel:"Cancel"};var n,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i={},r={},s={},a={},u={},l=o&&o.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(u,"__esModule",{value:!0});var d=function(e){function t(t){var n=e.call(this,t)||this;return n.name="DecodingError",n}return l(t,e),t}(Error);u.DecodingError=d;var c={},p=o&&o.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(c,"__esModule",{value:!0});var f=function(e){function t(t){var n=e.call(this,t)||this;return n.name="EncodingError",n}return p(t,e),t}(Error);c.EncodingError=f;var h={},g=o&&o.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(h,"__esModule",{value:!0});var m=function(e){function t(t){var n=e.call(this,t)||this;return n.name="GVLError",n}return g(t,e),t}(Error);h.GVLError=m;var v={},b=o&&o.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(v,"__esModule",{value:!0});var y=function(e){function t(t,n,o){void 0===o&&(o="");var i=e.call(this,"invalid value "+n+" passed for "+t+" "+o)||this;return i.name="TCModelError",i}return b(t,e),t}(Error);v.TCModelError=y,function(e){function t(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(u),t(c),t(h),t(v)}(a),Object.defineProperty(s,"__esModule",{value:!0});var k=a,_=function(){function e(){}return e.encode=function(e){if(!/^[0-1]+$/.test(e))throw new k.EncodingError("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",o=0;o<e.length;o+=this.BASIS)n+=this.DICT[parseInt(e.substr(o,this.BASIS),2)];return n},e.decode=function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new k.DecodingError("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var o=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-o.length)+o}return t},e.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",e.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]),e.BASIS=6,e.LCM=24,e}();s.Base64Url=_;var w={},C={},E={},I={},O=o&&o.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(I,"__esModule",{value:!0});var S=function(){function e(){}return e.prototype.clone=function(){var e=this,t=new this.constructor;return Object.keys(this).forEach((function(n){var o=e.deepClone(e[n]);void 0!==o&&(t[n]=o)})),t},e.prototype.deepClone=function(e){var t,n,o=typeof e;if("number"===o||"string"===o||"boolean"===o)return e;if(null!==e&&"object"===o){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var i=[];try{for(var r=O(e),s=r.next();!s.done;s=r.next()){var a=s.value;i.push(this.deepClone(a))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e instanceof Array?i:new e.constructor(i)}var u={};for(var l in e)e.hasOwnProperty(l)&&(u[l]=this.deepClone(e[l]));return u}},e}();I.Cloneable=S;var L,P=o&&o.__extends||(L=function(e,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(E,"__esModule",{value:!0});var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t}return P(t,e),t.prototype.isEmpty=function(){return!this.root},t.prototype.add=function(e){var t,n={value:e,left:null,right:null};if(this.isEmpty())this.root=n;else for(t=this.root;;)if(e<t.value){if(null===t.left){t.left=n;break}t=t.left}else{if(!(e>t.value))break;if(null===t.right){t.right=n;break}t=t.right}},t.prototype.get=function(){for(var e=[],t=this.root;t;)if(t.left){for(var n=t.left;n.right&&n.right!=t;)n=n.right;n.right==t?(n.right=null,e.push(t.value),t=t.right):(n.right=t,t=t.left)}else e.push(t.value),t=t.right;return e},t.prototype.contains=function(e){for(var t=!1,n=this.root;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t},t.prototype.min=function(e){var t;for(void 0===e&&(e=this.root);e;)e.left?e=e.left:(t=e.value,e=null);return t},t.prototype.max=function(e){var t;for(void 0===e&&(e=this.root);e;)e.right?e=e.right:(t=e.value,e=null);return t},t.prototype.remove=function(e,t){void 0===t&&(t=this.root);for(var n=null,o="left";t;)if(e<t.value)n=t,t=t.left,o="left";else if(e>t.value)n=t,t=t.right,o="right";else{if(t.left||t.right)if(t.left)if(t.right){var i=this.min(t.right);this.remove(i,t.right),t.value=i}else n?n[o]=t.left:this.root=t.left;else n?n[o]=t.right:this.root=t.right;else n?n[o]=null:this.root=null;t=null}},t}(I.Cloneable);E.BinarySearchTree=x;var T={};Object.defineProperty(T,"__esModule",{value:!0});var V=function(){function e(){}return e.prototype.has=function(t){return e.langSet.has(t)},e.prototype.forEach=function(t){e.langSet.forEach(t)},Object.defineProperty(e.prototype,"size",{get:function(){return e.langSet.size},enumerable:!0,configurable:!0}),e.langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]),e}();T.ConsentLanguages=V;var A={};Object.defineProperty(A,"__esModule",{value:!0});var B=function(){function e(){}return e.cmpId="cmpId",e.cmpVersion="cmpVersion",e.consentLanguage="consentLanguage",e.consentScreen="consentScreen",e.created="created",e.supportOOB="supportOOB",e.isServiceSpecific="isServiceSpecific",e.lastUpdated="lastUpdated",e.numCustomPurposes="numCustomPurposes",e.policyVersion="policyVersion",e.publisherCountryCode="publisherCountryCode",e.publisherCustomConsents="publisherCustomConsents",e.publisherCustomLegitimateInterests="publisherCustomLegitimateInterests",e.publisherLegitimateInterests="publisherLegitimateInterests",e.publisherConsents="publisherConsents",e.publisherRestrictions="publisherRestrictions",e.purposeConsents="purposeConsents",e.purposeLegitimateInterests="purposeLegitimateInterests",e.purposeOneTreatment="purposeOneTreatment",e.specialFeatureOptins="specialFeatureOptins",e.useNonStandardStacks="useNonStandardStacks",e.vendorConsents="vendorConsents",e.vendorLegitimateInterests="vendorLegitimateInterests",e.vendorListVersion="vendorListVersion",e.vendorsAllowed="vendorsAllowed",e.vendorsDisclosed="vendorsDisclosed",e.version="version",e}();A.Fields=B;var N,R,F={},M={};N=M,Object.defineProperty(N,"__esModule",{value:!0}),(R=N.RestrictionType||(N.RestrictionType={}))[R.NOT_ALLOWED=0]="NOT_ALLOWED",R[R.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",R[R.REQUIRE_LI=2]="REQUIRE_LI";var D=o&&o.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(F,"__esModule",{value:!0});var H=a,j=M,z=function(e){function t(t,n){var o=e.call(this)||this;return void 0!==t&&(o.purposeId=t),void 0!==n&&(o.restrictionType=n),o}return D(t,e),t.unHash=function(e){var n=e.split(this.hashSeparator),o=new t;if(2!==n.length)throw new H.TCModelError("hash",e);return o.purposeId=parseInt(n[0],10),o.restrictionType=parseInt(n[1],10),o},Object.defineProperty(t.prototype,"hash",{get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return""+this.purposeId+t.hashSeparator+this.restrictionType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"purposeId",{get:function(){return this.purposeId_},set:function(e){this.purposeId_=e},enumerable:!0,configurable:!0}),t.prototype.isValid=function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===j.RestrictionType.NOT_ALLOWED||this.restrictionType===j.RestrictionType.REQUIRE_CONSENT||this.restrictionType===j.RestrictionType.REQUIRE_LI)},t.prototype.isSameAs=function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType},t.hashSeparator="-",t}(I.Cloneable);F.PurposeRestriction=z;var U={},G=o&&o.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$=o&&o.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(U,"__esModule",{value:!0});var W=F,Y=E,K=M,J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bitLength=0,t.map=new Map,t}return G(t,e),t.prototype.has=function(e){return this.map.has(e)},t.prototype.isOkToHave=function(e,t,n){var o,i=!0;if(null===(o=this.gvl)||void 0===o?void 0:o.vendors){var r=this.gvl.vendors[n];if(r)if(e===K.RestrictionType.NOT_ALLOWED)i=r.legIntPurposes.includes(t)||r.purposes.includes(t);else if(r.flexiblePurposes.length)switch(e){case K.RestrictionType.REQUIRE_CONSENT:i=r.flexiblePurposes.includes(t)&&r.legIntPurposes.includes(t);break;case K.RestrictionType.REQUIRE_LI:i=r.flexiblePurposes.includes(t)&&r.purposes.includes(t)}else i=!1;else i=!1}return i},t.prototype.add=function(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var n=t.hash;this.has(n)||(this.map.set(n,new Y.BinarySearchTree),this.bitLength=0),this.map.get(n).add(e)}},t.prototype.restrictPurposeToLegalBasis=function(e){for(var t=this.gvl.vendorIds,n=e.hash,o=function(){var e,n,o;try{for(var i=$(t),r=i.next();!r.done;r=i.next())o=r.value}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}(),i=1;i<=o;i++)this.has(n)||(this.map.set(n,new Y.BinarySearchTree),this.bitLength=0),this.map.get(n).add(i)},t.prototype.getVendors=function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=this.map.get(n).get())}else{var o=new Set;this.map.forEach((function(e){e.get().forEach((function(e){o.add(e)}))})),t=Array.from(o)}return t},t.prototype.getRestrictionType=function(e,t){var n;return this.getRestrictions(e).forEach((function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n},t.prototype.vendorHasRestriction=function(e,t){for(var n=!1,o=this.getRestrictions(e),i=0;i<o.length&&!n;i++)n=t.isSameAs(o[i]);return n},t.prototype.getMaxVendorId=function(){var e=0;return this.map.forEach((function(t){e=Math.max(t.max(),e)})),e},t.prototype.getRestrictions=function(e){var t=[];return this.map.forEach((function(n,o){e?n.contains(e)&&t.push(W.PurposeRestriction.unHash(o)):t.push(W.PurposeRestriction.unHash(o))})),t},t.prototype.getPurposes=function(){var e=new Set;return this.map.forEach((function(t,n){e.add(W.PurposeRestriction.unHash(n).purposeId)})),Array.from(e)},t.prototype.remove=function(e,t){var n=t.hash,o=this.map.get(n);o&&(o.remove(e),o.isEmpty()&&(this.map.delete(n),this.bitLength=0))},Object.defineProperty(t.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.map.forEach((function(e,n){var o=W.PurposeRestriction.unHash(n);e.get().forEach((function(n){t.isOkToHave(o.restrictionType,o.purposeId,n)||e.remove(n)}))})))},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.map.size},Object.defineProperty(t.prototype,"numRestrictions",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),t}(I.Cloneable);U.PurposeRestrictionVector=J;var Z={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(e.DeviceDisclosureStorageAccessType||(e.DeviceDisclosureStorageAccessType={}))}(Z);var q={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(e.Segment||(e.Segment={}))}(q);var X,Q={};Object.defineProperty(Q,"__esModule",{value:!0});var ee=q,te=function(){function e(){}return e.ID_TO_KEY=[ee.Segment.CORE,ee.Segment.VENDORS_DISCLOSED,ee.Segment.VENDORS_ALLOWED,ee.Segment.PUBLISHER_TC],e.KEY_TO_ID=((X={})[ee.Segment.CORE]=0,X[ee.Segment.VENDORS_DISCLOSED]=1,X[ee.Segment.VENDORS_ALLOWED]=2,X[ee.Segment.PUBLISHER_TC]=3,X),e}();Q.SegmentIDs=te;var ne={},oe=o&&o.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ie=o&&o.__generator||function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(ne,"__esModule",{value:!0});var re=a,se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bitLength=0,t.maxId_=0,t.set_=new Set,t}return oe(t,e),t.prototype[Symbol.iterator]=function(){var e;return ie(this,(function(t){switch(t.label){case 0:e=1,t.label=1;case 1:return e<=this.maxId?[4,[e,this.has(e)]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}}))},t.prototype.values=function(){return this.set_.values()},Object.defineProperty(t.prototype,"maxId",{get:function(){return this.maxId_},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this.set_.has(e)},t.prototype.unset=function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.unset(e)})):"object"==typeof e?this.unset(Object.keys(e).map((function(e){return+e}))):(this.set_.delete(e),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((function(e){t.maxId_=Math.max(t.maxId,e)}))))},t.prototype.isIntMap=function(e){var t=this,n="object"==typeof e;return n&&Object.keys(e).every((function(n){var o=Number.isInteger(parseInt(n,10));return(o=o&&t.isValidNumber(e[n].id))&&void 0!==e[n].name}))},t.prototype.isValidNumber=function(e){return parseInt(e,10)>0},t.prototype.isSet=function(e){var t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t},t.prototype.set=function(e){var t=this;if(Array.isArray(e))e.forEach((function(e){return t.set(e)}));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((function(e){return+e})));else{if(!this.isValidNumber(e))throw new re.TCModelError("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}},t.prototype.empty=function(){this.set_=new Set},t.prototype.forEach=function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)},Object.defineProperty(t.prototype,"size",{get:function(){return this.set_.size},enumerable:!0,configurable:!0}),t.prototype.setAll=function(e){this.set(e)},t}(I.Cloneable);ne.Vector=se,function(e){function t(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(E),t(T),t(A),t(F),t(U),t(Z),t(M),t(q),t(Q),t(ne)}(C),Object.defineProperty(w,"__esModule",{value:!0});var ae=C,ue=function(){function e(){}var t,n,o,i,r,s,a,u,l,d,c,p,f,h,g,m,v,b;return t=ae.Fields.cmpId,n=ae.Fields.cmpVersion,o=ae.Fields.consentLanguage,i=ae.Fields.consentScreen,r=ae.Fields.created,s=ae.Fields.isServiceSpecific,a=ae.Fields.lastUpdated,u=ae.Fields.policyVersion,l=ae.Fields.publisherCountryCode,d=ae.Fields.publisherLegitimateInterests,c=ae.Fields.publisherConsents,p=ae.Fields.purposeConsents,f=ae.Fields.purposeLegitimateInterests,h=ae.Fields.purposeOneTreatment,g=ae.Fields.specialFeatureOptins,m=ae.Fields.useNonStandardStacks,v=ae.Fields.vendorListVersion,b=ae.Fields.version,e[t]=12,e[n]=12,e[o]=12,e[i]=6,e[r]=36,e[s]=1,e[a]=36,e[u]=6,e[l]=12,e[d]=24,e[c]=24,e[p]=24,e[f]=24,e[h]=1,e[g]=12,e[m]=1,e[v]=12,e[b]=6,e.anyBoolean=1,e.encodingType=1,e.maxId=16,e.numCustomPurposes=6,e.numEntries=12,e.numRestrictions=12,e.purposeId=6,e.restrictionType=2,e.segmentType=3,e.singleOrRange=1,e.vendorId=16,e}();w.BitLength=ue;var le={},de={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});var pe=function(){function e(){}return e.encode=function(e){return+e+""},e.decode=function(e){return"1"===e},e}();ce.BooleanEncoder=pe;var fe={},he={};Object.defineProperty(he,"__esModule",{value:!0});var ge=a,me=function(){function e(){}return e.encode=function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new ge.EncodingError(e+" too large to encode into "+t);return n.length<t&&(n="0".repeat(t-n.length)+n),n},e.decode=function(e,t){if(t!==e.length)throw new ge.DecodingError("invalid bit length");return parseInt(e,2)},e}();he.IntEncoder=me,Object.defineProperty(fe,"__esModule",{value:!0});var ve=he,be=a,ye=function(){function e(){}return e.encode=function(e,t){return ve.IntEncoder.encode(Math.round(e.getTime()/100),t)},e.decode=function(e,t){if(t!==e.length)throw new be.DecodingError("invalid bit length");var n=new Date;return n.setTime(100*ve.IntEncoder.decode(e,t)),n},e}();fe.DateEncoder=ye;var ke={},_e={};Object.defineProperty(_e,"__esModule",{value:!0});var we=ce,Ce=a,Ee=C,Ie=function(){function e(){}return e.encode=function(e,t){for(var n="",o=1;o<=t;o++)n+=we.BooleanEncoder.encode(e.has(o));return n},e.decode=function(e,t){if(e.length!==t)throw new Ce.DecodingError("bitfield encoding length mismatch");for(var n=new Ee.Vector,o=1;o<=t;o++)we.BooleanEncoder.decode(e[o-1])&&n.set(o);return n.bitLength=e.length,n},e}();_e.FixedVectorEncoder=Ie;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var Se=he,Le=a,Pe=function(){function e(){}return e.encode=function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,o=e.charCodeAt(1)-65;if(n<0||n>25||o<0||o>25)throw new Le.EncodingError("invalid language code: "+e);if(t%2==1)throw new Le.EncodingError("numBits must be even, "+t+" is not valid");return t/=2,Se.IntEncoder.encode(n,t)+Se.IntEncoder.encode(o,t)},e.decode=function(e,t){if(t!==e.length||e.length%2)throw new Le.DecodingError("invalid bit length for language");var n=e.length/2,o=Se.IntEncoder.decode(e.slice(0,n),n)+65,i=Se.IntEncoder.decode(e.slice(n),n)+65;return String.fromCharCode(o)+String.fromCharCode(i)},e}();Oe.LangEncoder=Pe;var xe={};Object.defineProperty(xe,"__esModule",{value:!0});var Te=w,Ve=ce,Ae=a,Be=he,Ne=C,Re=function(){function e(){}return e.encode=function(e){var t=Be.IntEncoder.encode(e.numRestrictions,Te.BitLength.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach((function(n){t+=Be.IntEncoder.encode(n.purposeId,Te.BitLength.purposeId),t+=Be.IntEncoder.encode(n.restrictionType,Te.BitLength.restrictionType);for(var o=e.getVendors(n),i=o.length,r=0,s=0,a="",u=function(t){var n=o[t];0===s&&(r++,s=n);var u=o[i-1],l=e.gvl.vendorIds;if(t===i-1||o[t+1]>function(e){for(;++e<=u&&!l.has(e););return e}(n)){var d=!(n===s);a+=Ve.BooleanEncoder.encode(d),a+=Be.IntEncoder.encode(s,Te.BitLength.vendorId),d&&(a+=Be.IntEncoder.encode(n,Te.BitLength.vendorId)),s=0}},l=0;l<i;l++)u(l);t+=Be.IntEncoder.encode(r,Te.BitLength.numEntries),t+=a})),t},e.decode=function(e){var t=0,n=new Ne.PurposeRestrictionVector,o=Be.IntEncoder.decode(e.substr(t,Te.BitLength.numRestrictions),Te.BitLength.numRestrictions);t+=Te.BitLength.numRestrictions;for(var i=0;i<o;i++){var r=Be.IntEncoder.decode(e.substr(t,Te.BitLength.purposeId),Te.BitLength.purposeId);t+=Te.BitLength.purposeId;var s=Be.IntEncoder.decode(e.substr(t,Te.BitLength.restrictionType),Te.BitLength.restrictionType);t+=Te.BitLength.restrictionType;var a=new Ne.PurposeRestriction(r,s),u=Be.IntEncoder.decode(e.substr(t,Te.BitLength.numEntries),Te.BitLength.numEntries);t+=Te.BitLength.numEntries;for(var l=0;l<u;l++){var d=Ve.BooleanEncoder.decode(e.substr(t,Te.BitLength.anyBoolean));t+=Te.BitLength.anyBoolean;var c=Be.IntEncoder.decode(e.substr(t,Te.BitLength.vendorId),Te.BitLength.vendorId);if(t+=Te.BitLength.vendorId,d){var p=Be.IntEncoder.decode(e.substr(t,Te.BitLength.vendorId),Te.BitLength.vendorId);if(t+=Te.BitLength.vendorId,p<c)throw new Ae.DecodingError("Invalid RangeEntry: endVendorId "+p+" is less than "+c);for(var f=c;f<=p;f++)n.add(f,a)}else n.add(c,a)}}return n.bitLength=t,n},e}();xe.PurposeRestrictionVectorEncoder=Re;var Fe={},Me={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(e.VectorEncodingType||(e.VectorEncodingType={}))}(Me),Object.defineProperty(Fe,"__esModule",{value:!0});var De=C,He=r,je=he,ze=ce,Ue=_e,Ge=Me,$e=a,We=function(){function e(){}return e.encode=function(e){var t,n=[],o=[],i=je.IntEncoder.encode(e.maxId,He.BitLength.maxId),r="",s=He.BitLength.maxId+He.BitLength.encodingType,a=s+e.maxId,u=2*He.BitLength.vendorId+He.BitLength.singleOrRange+He.BitLength.numEntries,l=s+He.BitLength.numEntries;return e.forEach((function(i,s){r+=ze.BooleanEncoder.encode(i),(t=e.maxId>u&&l<a)&&i&&(e.has(s+1)?0===o.length&&(o.push(s),l+=He.BitLength.singleOrRange,l+=He.BitLength.vendorId):(o.push(s),l+=He.BitLength.vendorId,n.push(o),o=[]))})),t?(i+=Ge.VectorEncodingType.RANGE+"",i+=this.buildRangeEncoding(n)):(i+=Ge.VectorEncodingType.FIELD+"",i+=r),i},e.decode=function(e,t){var n,o=0,i=je.IntEncoder.decode(e.substr(o,He.BitLength.maxId),He.BitLength.maxId);o+=He.BitLength.maxId;var r=je.IntEncoder.decode(e.charAt(o),He.BitLength.encodingType);if(o+=He.BitLength.encodingType,r===Ge.VectorEncodingType.RANGE){if(n=new De.Vector,1===t){if("1"===e.substr(o,1))throw new $e.DecodingError("Unable to decode default consent=1");o++}var s=je.IntEncoder.decode(e.substr(o,He.BitLength.numEntries),He.BitLength.numEntries);o+=He.BitLength.numEntries;for(var a=0;a<s;a++){var u=ze.BooleanEncoder.decode(e.charAt(o));o+=He.BitLength.singleOrRange;var l=je.IntEncoder.decode(e.substr(o,He.BitLength.vendorId),He.BitLength.vendorId);if(o+=He.BitLength.vendorId,u){var d=je.IntEncoder.decode(e.substr(o,He.BitLength.vendorId),He.BitLength.vendorId);o+=He.BitLength.vendorId;for(var c=l;c<=d;c++)n.set(c)}else n.set(l)}}else{var p=e.substr(o,i);o+=i,n=Ue.FixedVectorEncoder.decode(p,i)}return n.bitLength=o,n},e.buildRangeEncoding=function(e){var t=e.length,n=je.IntEncoder.encode(t,He.BitLength.numEntries);return e.forEach((function(e){var t=1===e.length;n+=ze.BooleanEncoder.encode(!t),n+=je.IntEncoder.encode(e[0],He.BitLength.vendorId),t||(n+=je.IntEncoder.encode(e[1],He.BitLength.vendorId))})),n},e}();Fe.VendorVectorEncoder=We,Object.defineProperty(ke,"__esModule",{value:!0});var Ye=C,Ke=ce,Je=fe,Ze=_e,qe=he,Xe=Oe,Qe=xe,et=Fe,tt=function(){function e(){}var t,n,o,i,r,s,a,u,l,d,c,p,f,h,g,m,v,b,y,k,_,w,C,E,I,O;return t=Ye.Fields.version,n=Ye.Fields.created,o=Ye.Fields.lastUpdated,i=Ye.Fields.cmpId,r=Ye.Fields.cmpVersion,s=Ye.Fields.consentScreen,a=Ye.Fields.consentLanguage,u=Ye.Fields.vendorListVersion,l=Ye.Fields.policyVersion,d=Ye.Fields.isServiceSpecific,c=Ye.Fields.useNonStandardStacks,p=Ye.Fields.specialFeatureOptins,f=Ye.Fields.purposeConsents,h=Ye.Fields.purposeLegitimateInterests,g=Ye.Fields.purposeOneTreatment,m=Ye.Fields.publisherCountryCode,v=Ye.Fields.vendorConsents,b=Ye.Fields.vendorLegitimateInterests,y=Ye.Fields.publisherRestrictions,k=Ye.Fields.vendorsDisclosed,_=Ye.Fields.vendorsAllowed,w=Ye.Fields.publisherConsents,C=Ye.Fields.publisherLegitimateInterests,E=Ye.Fields.numCustomPurposes,I=Ye.Fields.publisherCustomConsents,O=Ye.Fields.publisherCustomLegitimateInterests,e[t]=qe.IntEncoder,e[n]=Je.DateEncoder,e[o]=Je.DateEncoder,e[i]=qe.IntEncoder,e[r]=qe.IntEncoder,e[s]=qe.IntEncoder,e[a]=Xe.LangEncoder,e[u]=qe.IntEncoder,e[l]=qe.IntEncoder,e[d]=Ke.BooleanEncoder,e[c]=Ke.BooleanEncoder,e[p]=Ze.FixedVectorEncoder,e[f]=Ze.FixedVectorEncoder,e[h]=Ze.FixedVectorEncoder,e[g]=Ke.BooleanEncoder,e[m]=Xe.LangEncoder,e[v]=et.VendorVectorEncoder,e[b]=et.VendorVectorEncoder,e[y]=Qe.PurposeRestrictionVectorEncoder,e.segmentType=qe.IntEncoder,e[k]=et.VendorVectorEncoder,e[_]=et.VendorVectorEncoder,e[w]=Ze.FixedVectorEncoder,e[C]=Ze.FixedVectorEncoder,e[E]=qe.IntEncoder,e[I]=Ze.FixedVectorEncoder,e[O]=Ze.FixedVectorEncoder,e}();ke.FieldEncoderMap=tt,function(e){function t(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(ce),t(fe),t(ke),t(_e),t(he),t(Oe),t(xe),t(Me),t(Fe)}(de);var nt={},ot={};Object.defineProperty(ot,"__esModule",{value:!0});var it=C;ot.FieldSequence=function(){var e,t;this[1]=((e={})[it.Segment.CORE]=[it.Fields.version,it.Fields.created,it.Fields.lastUpdated,it.Fields.cmpId,it.Fields.cmpVersion,it.Fields.consentScreen,it.Fields.consentLanguage,it.Fields.vendorListVersion,it.Fields.purposeConsents,it.Fields.vendorConsents],e),this[2]=((t={})[it.Segment.CORE]=[it.Fields.version,it.Fields.created,it.Fields.lastUpdated,it.Fields.cmpId,it.Fields.cmpVersion,it.Fields.consentScreen,it.Fields.consentLanguage,it.Fields.vendorListVersion,it.Fields.policyVersion,it.Fields.isServiceSpecific,it.Fields.useNonStandardStacks,it.Fields.specialFeatureOptins,it.Fields.purposeConsents,it.Fields.purposeLegitimateInterests,it.Fields.purposeOneTreatment,it.Fields.publisherCountryCode,it.Fields.vendorConsents,it.Fields.vendorLegitimateInterests,it.Fields.publisherRestrictions],t[it.Segment.PUBLISHER_TC]=[it.Fields.publisherConsents,it.Fields.publisherLegitimateInterests,it.Fields.numCustomPurposes,it.Fields.publisherCustomConsents,it.Fields.publisherCustomLegitimateInterests],t[it.Segment.VENDORS_ALLOWED]=[it.Fields.vendorsAllowed],t[it.Segment.VENDORS_DISCLOSED]=[it.Fields.vendorsDisclosed],t)};var rt={};Object.defineProperty(rt,"__esModule",{value:!0});var st=C;rt.SegmentSequence=function(e,t){if(this[1]=[st.Segment.CORE],this[2]=[st.Segment.CORE],2===e.version)if(e.isServiceSpecific)this[2].push(st.Segment.PUBLISHER_TC);else{var n=!(!t||!t.isForVendors);n&&!0!==e[st.Fields.supportOOB]||this[2].push(st.Segment.VENDORS_DISCLOSED),n&&(e[st.Fields.supportOOB]&&e[st.Fields.vendorsAllowed].size>0&&this[2].push(st.Segment.VENDORS_ALLOWED),this[2].push(st.Segment.PUBLISHER_TC))}},function(e){function t(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(ot),t(rt)}(nt),Object.defineProperty(le,"__esModule",{value:!0});var at=s,ut=w,lt=de,dt=nt,ct=a,pt=A,ft=C,ht=function(){function e(){}return e.encode=function(e,t){var n,o=this;try{n=this.fieldSequence[""+e.version][t]}catch(n){throw new ct.EncodingError("Unable to encode version: "+e.version+", segment: "+t)}var i="";return t!==ft.Segment.CORE&&(i=lt.IntEncoder.encode(ft.SegmentIDs.KEY_TO_ID[t],ut.BitLength.segmentType)),n.forEach((function(n){var r=e[n],s=lt.FieldEncoderMap[n],a=ut.BitLength[n];void 0===a&&o.isPublisherCustom(n)&&(a=+e[pt.Fields.numCustomPurposes]);try{i+=s.encode(r,a)}catch(e){throw new ct.EncodingError("Error encoding "+t+"->"+n+": "+e.message)}})),at.Base64Url.encode(i)},e.decode=function(e,t,n){var o=this,i=at.Base64Url.decode(e),r=0;return n===ft.Segment.CORE&&(t.version=lt.IntEncoder.decode(i.substr(r,ut.BitLength[pt.Fields.version]),ut.BitLength[pt.Fields.version])),n!==ft.Segment.CORE&&(r+=ut.BitLength.segmentType),this.fieldSequence[""+t.version][n].forEach((function(e){var n=lt.FieldEncoderMap[e],s=ut.BitLength[e];if(void 0===s&&o.isPublisherCustom(e)&&(s=+t[pt.Fields.numCustomPurposes]),0!==s){var a=i.substr(r,s);if(n===lt.VendorVectorEncoder?t[e]=n.decode(a,t.version):t[e]=n.decode(a,s),Number.isInteger(s))r+=s;else{if(!Number.isInteger(t[e].bitLength))throw new ct.DecodingError(e);r+=t[e].bitLength}}})),t},e.isPublisherCustom=function(e){return 0===e.indexOf("publisherCustom")},e.fieldSequence=new dt.FieldSequence,e}();le.SegmentEncoder=ht;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});var mt=a,vt=C,bt=function(){function e(){}return e.process=function(e,t){var n,o,i=e.gvl;if(!i)throw new mt.EncodingError("Unable to encode TCModel without a GVL");if(!i.isReady)throw new mt.EncodingError("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=i.language.toUpperCase(),(null===(n=t)||void 0===n?void 0:n.version)>0&&(null===(o=t)||void 0===o?void 0:o.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var r=e.version-1;if(!this.processor[r])throw new mt.EncodingError("Invalid version: "+e.version);return this.processor[r](e,i)},e.processor=[function(e){return e},function(e,t){e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);var n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach((function(n,o){n.forEach((function(i,r){if(i){var s=t.vendors[r];if(!s||s.deletedDate)n.unset(r);else if(0===s[o].length)if("legIntPurposes"===o&&0===s.purposes.length&&0===s.legIntPurposes.length&&s.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===s.flexiblePurposes.length)n.unset(r);else{for(var a=e.publisherRestrictions.getRestrictions(r),u=!1,l=0,d=a.length;l<d&&!u;l++)u=a[l].restrictionType===vt.RestrictionType.REQUIRE_CONSENT&&"purposes"===o||a[l].restrictionType===vt.RestrictionType.REQUIRE_LI&&"legIntPurposes"===o;u||n.unset(r)}else n.unset(r)}}))})),e.vendorsDisclosed.set(t.vendors),e}],e}();gt.SemanticPreEncoder=bt,function(e){function t(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(s),t(w),t(le),t(gt),t(de),t(nt)}(r);var yt={},kt={};Object.defineProperty(kt,"__esModule",{value:!0});var _t=function(){function e(){}return e.absCall=function(e,t,n,o){return new Promise((function(i,r){var s=new XMLHttpRequest;s.withCredentials=n,s.addEventListener("load",(function(){if(s.readyState==XMLHttpRequest.DONE)if(s.status>=200&&s.status<300){var e=s.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}i(e)}else r(new Error("HTTP Status: "+s.status+" response type: "+s.responseType))})),s.addEventListener("error",(function(){r(new Error("error"))})),s.addEventListener("abort",(function(){r(new Error("aborted"))})),null===t?s.open("GET",e,!0):s.open("POST",e,!0),s.responseType="json",s.timeout=o,s.ontimeout=function(){r(new Error("Timeout "+o+"ms "+e))},s.send(t)}))},e.post=function(e,t,n,o){return void 0===n&&(n=!1),void 0===o&&(o=0),this.absCall(e,JSON.stringify(t),n,o)},e.fetch=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=0),this.absCall(e,null,t,n)},e}();kt.Json=_t;var wt=o&&o.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ct=o&&o.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{u(o.next(e))}catch(e){r(e)}}function a(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((o=o.apply(e,t||[])).next())}))},Et=o&&o.__generator||function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(yt,"__esModule",{value:!0});var It=a,Ot=kt,St=C,Lt=function(e){function t(n){var o=e.call(this)||this;o.isReady_=!1,o.isLatest=!1;var i=t.baseUrl;if(o.lang_=t.DEFAULT_LANGUAGE,o.isVendorList(n))o.populate(n),o.readyPromise=Promise.resolve();else{if(!i)throw new It.GVLError("must specify GVL.baseUrl before loading GVL json");if(n>0){var r=n;t.CACHE.has(r)?(o.populate(t.CACHE.get(r)),o.readyPromise=Promise.resolve()):(i+=t.versionedFilename.replace("[VERSION]",r+""),o.readyPromise=o.fetchJson(i))}else t.CACHE.has(t.LATEST_CACHE_KEY)?(o.populate(t.CACHE.get(t.LATEST_CACHE_KEY)),o.readyPromise=Promise.resolve()):(o.isLatest=!0,o.readyPromise=o.fetchJson(i+t.latestFilename))}return o}return wt(t,e),Object.defineProperty(t,"baseUrl",{get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new It.GVLError("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e},enumerable:!0,configurable:!0}),t.emptyLanguageCache=function(e){var n=!1;return void 0===e&&t.LANGUAGE_CACHE.size>0?(t.LANGUAGE_CACHE=new Map,n=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(t.LANGUAGE_CACHE.delete(e.toUpperCase()),n=!0),n},t.emptyCache=function(e){var n=!1;return Number.isInteger(e)&&e>=0?(t.CACHE.delete(e),n=!0):void 0===e&&(t.CACHE=new Map,n=!0),n},t.prototype.cacheLanguage=function(){t.LANGUAGE_CACHE.has(this.lang_)||t.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})},t.prototype.fetchJson=function(e){return Ct(this,void 0,void 0,(function(){var t,n;return Et(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=this.populate,[4,Ot.Json.fetch(e)];case 1:return t.apply(this,[o.sent()]),[3,3];case 2:throw n=o.sent(),new It.GVLError(n.message);case 3:return[2]}}))}))},t.prototype.getJson=function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))},t.prototype.changeLanguage=function(e){return Ct(this,void 0,void 0,(function(){var n,o,i,r,s;return Et(this,(function(a){switch(a.label){case 0:if(n=e.toUpperCase(),!t.consentLanguages.has(n))return[3,6];if(n===this.lang_)return[3,5];if(this.lang_=n,!t.LANGUAGE_CACHE.has(n))return[3,1];for(i in o=t.LANGUAGE_CACHE.get(n))o.hasOwnProperty(i)&&(this[i]=o[i]);return[3,5];case 1:r=t.baseUrl+t.languageFilename.replace("[LANG]",e),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchJson(r)];case 3:return a.sent(),this.cacheLanguage(),[3,5];case 4:throw s=a.sent(),new It.GVLError("unable to load language: "+s.message);case 5:return[3,7];case 6:throw new It.GVLError("unsupported language "+e);case 7:return[2]}}))}))},Object.defineProperty(t.prototype,"language",{get:function(){return this.lang_},enumerable:!0,configurable:!0}),t.prototype.isVendorList=function(e){return void 0!==e&&void 0!==e.vendors},t.prototype.populate=function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&t.CACHE.set(t.LATEST_CACHE_KEY,this.getJson()),t.CACHE.has(this.vendorListVersion)||t.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()},t.prototype.mapVendors=function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(e){t.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((function(e){t.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((function(e){t.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((function(e){return+e}))),this.vendorIds=new Set(e),this.vendors_=e.reduce((function(e,n){var o=t.vendors_[""+n];return o&&void 0===o.deletedDate&&(o.purposes.forEach((function(e){t.byPurposeVendorMap[e+""].consent.add(n)})),o.specialPurposes.forEach((function(e){t.bySpecialPurposeVendorMap[e+""].add(n)})),o.legIntPurposes.forEach((function(e){t.byPurposeVendorMap[e+""].legInt.add(n)})),o.flexiblePurposes&&o.flexiblePurposes.forEach((function(e){t.byPurposeVendorMap[e+""].flexible.add(n)})),o.features.forEach((function(e){t.byFeatureVendorMap[e+""].add(n)})),o.specialFeatures.forEach((function(e){t.bySpecialFeatureVendorMap[e+""].add(n)})),e[n]=o),e}),{})},t.prototype.getFilteredVendors=function(e,t,n,o){var i=this,r=e.charAt(0).toUpperCase()+e.slice(1),s={};return("purpose"===e&&n?this["by"+r+"VendorMap"][t+""][n]:this["by"+(o?"Special":"")+r+"VendorMap"][t+""]).forEach((function(e){s[e+""]=i.vendors[e+""]})),s},t.prototype.getVendorsWithConsentPurpose=function(e){return this.getFilteredVendors("purpose",e,"consent")},t.prototype.getVendorsWithLegIntPurpose=function(e){return this.getFilteredVendors("purpose",e,"legInt")},t.prototype.getVendorsWithFlexiblePurpose=function(e){return this.getFilteredVendors("purpose",e,"flexible")},t.prototype.getVendorsWithSpecialPurpose=function(e){return this.getFilteredVendors("purpose",e,void 0,!0)},t.prototype.getVendorsWithFeature=function(e){return this.getFilteredVendors("feature",e)},t.prototype.getVendorsWithSpecialFeature=function(e){return this.getFilteredVendors("feature",e,void 0,!0)},Object.defineProperty(t.prototype,"vendors",{get:function(){return this.vendors_},enumerable:!0,configurable:!0}),t.prototype.narrowVendorsTo=function(e){this.mapVendors(e)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.isReady_},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t(this.getJson());return this.lang_!==t.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e},t.isInstanceOf=function(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo},t.LANGUAGE_CACHE=new Map,t.CACHE=new Map,t.LATEST_CACHE_KEY=0,t.DEFAULT_LANGUAGE="EN",t.consentLanguages=new St.ConsentLanguages,t.latestFilename="vendor-list.json",t.versionedFilename="archives/vendor-list-v[VERSION].json",t.languageFilename="purposes-[LANG].json",t}(I.Cloneable);yt.GVL=Lt;var Pt={},xt=o&&o.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(Pt,"__esModule",{value:!0});var Tt=a,Vt=yt,At=C,Bt=function(e){function t(t){var n=e.call(this)||this;return n.isServiceSpecific_=!1,n.supportOOB_=!0,n.useNonStandardStacks_=!1,n.purposeOneTreatment_=!1,n.publisherCountryCode_="AA",n.version_=2,n.consentScreen_=0,n.policyVersion_=2,n.consentLanguage_="EN",n.cmpId_=0,n.cmpVersion_=0,n.vendorListVersion_=0,n.numCustomPurposes_=0,n.specialFeatureOptins=new At.Vector,n.purposeConsents=new At.Vector,n.purposeLegitimateInterests=new At.Vector,n.publisherConsents=new At.Vector,n.publisherLegitimateInterests=new At.Vector,n.publisherCustomConsents=new At.Vector,n.publisherCustomLegitimateInterests=new At.Vector,n.vendorConsents=new At.Vector,n.vendorLegitimateInterests=new At.Vector,n.vendorsDisclosed=new At.Vector,n.vendorsAllowed=new At.Vector,n.publisherRestrictions=new At.PurposeRestrictionVector,t&&(n.gvl=t),n.updated(),n}return xt(t,e),Object.defineProperty(t.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){Vt.GVL.isInstanceOf(e)||(e=new Vt.GVL(e)),this.gvl_=e,this.publisherRestrictions.gvl=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cmpId",{get:function(){return this.cmpId_},set:function(e){if(!(Number.isInteger(+e)&&e>1))throw new Tt.TCModelError("cmpId",e);this.cmpId_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cmpVersion",{get:function(){return this.cmpVersion_},set:function(e){if(!(Number.isInteger(+e)&&e>-1))throw new Tt.TCModelError("cmpVersion",e);this.cmpVersion_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"consentScreen",{get:function(){return this.consentScreen_},set:function(e){if(!(Number.isInteger(+e)&&e>-1))throw new Tt.TCModelError("consentScreen",e);this.consentScreen_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"consentLanguage",{get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publisherCountryCode",{get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new Tt.TCModelError("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vendorListVersion",{get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=+e>>0)<0)throw new Tt.TCModelError("vendorListVersion",e);this.vendorListVersion_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"policyVersion",{get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new Tt.TCModelError("policyVersion",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isServiceSpecific",{get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useNonStandardStacks",{get:function(){return this.useNonStandardStacks_},set:function(e){this.useNonStandardStacks_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"supportOOB",{get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"purposeOneTreatment",{get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e},enumerable:!0,configurable:!0}),t.prototype.setAllVendorConsents=function(){this.vendorConsents.set(this.gvl.vendors)},t.prototype.unsetAllVendorConsents=function(){this.vendorConsents.empty()},t.prototype.setAllVendorsDisclosed=function(){this.vendorsDisclosed.set(this.gvl.vendors)},t.prototype.unsetAllVendorsDisclosed=function(){this.vendorsDisclosed.empty()},t.prototype.setAllVendorsAllowed=function(){this.vendorsAllowed.set(this.gvl.vendors)},t.prototype.unsetAllVendorsAllowed=function(){this.vendorsAllowed.empty()},t.prototype.setAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.set(this.gvl.vendors)},t.prototype.unsetAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.empty()},t.prototype.setAllPurposeConsents=function(){this.purposeConsents.set(this.gvl.purposes)},t.prototype.unsetAllPurposeConsents=function(){this.purposeConsents.empty()},t.prototype.setAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.set(this.gvl.purposes)},t.prototype.unsetAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.empty()},t.prototype.setAllSpecialFeatureOptins=function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)},t.prototype.unsetAllSpecialFeatureOptins=function(){this.specialFeatureOptins.empty()},t.prototype.setAll=function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()},t.prototype.unsetAll=function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()},Object.defineProperty(t.prototype,"numCustomPurposes",{get:function(){var e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){var t=Object.keys(this.customPurposes).sort((function(e,t){return+e-+t}));e=parseInt(t.pop(),10)}return e},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new Tt.TCModelError("numCustomPurposes",e)},enumerable:!0,configurable:!0}),t.prototype.updated=function(){var e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t},t.consentLanguages=Vt.GVL.consentLanguages,t}(I.Cloneable);Pt.TCModel=Bt;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});var Rt=r,Ft=C,Mt=he,Dt=Pt,Ht=function(){function e(){}return e.encode=function(e,t){var n,o,i="";return e=Rt.SemanticPreEncoder.process(e,t),(o=Array.isArray(null===(n=t)||void 0===n?void 0:n.segments)?t.segments:new Rt.SegmentSequence(e,t)[""+e.version]).forEach((function(t,n){var r="";n<o.length-1&&(r="."),i+=Rt.SegmentEncoder.encode(e,t)+r})),i},e.decode=function(e,t){var n=e.split("."),o=n.length;t||(t=new Dt.TCModel);for(var i=0;i<o;i++){var r=n[i],s=Rt.Base64Url.decode(r.charAt(0)).substr(0,Rt.BitLength.segmentType),a=Ft.SegmentIDs.ID_TO_KEY[Mt.IntEncoder.decode(s,Rt.BitLength.segmentType).toString()];Rt.SegmentEncoder.decode(r,t,a)}return t},e}();Nt.TCString=Ht,function(e){function t(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(r),t(a),t(C),t(I),t(yt),t(kt),t(Pt),t(Nt)}(i);class jt extends class{constructor(e){this.bindings=[],this.model=e}bind(){this.bindings.forEach((e=>e.bind()))}addBinding(e){e.setField(this),this.bindings.push(e)}}{constructor(e,t){super(e),this.defaultValue=t,this._value=t}get value(){return this._value}set value(e){this._value=e,this.bindings.forEach((t=>t.setValue(e))),!1===this.model.settingValues&&(this.model.settingValues=!0,this.updateOthers(),this.model.settingValues=!1)}reset(){this.value=this.defaultValue}addBinding(e){super.addBinding(e),e.setValue(this._value)}}class zt{static equals(e,t){return JSON.stringify(e)===JSON.stringify(t)}}zt.personalized={use_browsing_for_personalization:!0},zt.standard={use_browsing_for_personalization:!1},zt.custom=null,zt.notSet=void 0;class Ut extends jt{constructor(e,t,n){super(e,t),this.types=n}get persisted(){var e;return!0===(null===(e=this.value)||void 0===e?void 0:e.persisted)}updateOthers(){this.model.canSave.value=qt.isEnabled(this.model)}setPersisted(e){Xt.Identifiers(e);for(let t=0;t<e.length;t++){const n=e[t];if(!0===n.persisted&&this.types.includes(n.type))return void(this.value=n)}throw`No identifier of type(s) '${this.types}' found`}}class Gt extends jt{constructor(){super(...arguments),this._persisted=null}get persisted(){return this._persisted}get hasChanged(){var e;return!1===zt.equals(null===(e=this._persisted)||void 0===e?void 0:e.data,this.value)}updateOthers(){this.model.customFields.forEach((e=>e.value=!1)),zt.equals(this.value,zt.personalized)?(this.model.all.value=!0,this.model.personalizedFields.forEach((e=>e.value=!0))):zt.equals(this.value,zt.standard)?(this.model.all.value=!1,this.model.standardFields.forEach((e=>e.value=!0))):this.model.all.value=!1,this.model.canSave.value=qt.isEnabled(this.model)}setPersisted(e){Xt.Preference(e),this._persisted=e,this.value=e.data}}class $t extends jt{updateOthers(){!1===this.value&&this.model.reset(),this.model.canSave.value=qt.isEnabled(this.model)}}class Wt extends jt{setMarketing(){this.allTrue(this.model.personalizedFields)?this.model.pref.value=zt.personalized:this.allTrue(this.model.standardFields)?this.model.pref.value=zt.standard:this.model.pref.value=zt.custom}setThisSiteOnly(){this.model.onlyThisSiteEnabled&&!1===this.model.onlyThisSite.value&&zt.equals(this.model.pref.value,zt.custom)&&(this.model.onlyThisSite.value=!0)}allTrue(e){let t=!0;return e.forEach((e=>{t=t&&e.value})),t}}class Yt extends Wt{updateOthers(){this.setMarketing(),this.setThisSiteOnly(),this.model.canSave.value=qt.isEnabled(this.model),this.model.all.value=this.allTrue(this.model.customFields)}}class Kt extends Yt{set value(e){}get value(){return!0}}class Jt extends Yt{updateOthers(){this.model.customFields.forEach((e=>e.value=this.value)),super.updateOthers()}}class Zt{constructor(){this.settingValues=!1,this.rid=new Ut(this,null,["paf_browser_id"]),this.pref=new Gt(this,zt.notSet),this.onlyThisSite=new $t(this,!1),this.all=new Jt(this,!1),this.canSave=new Yt(this,!1),this.email=null,this.salt=null,this.status=null,this.tcf=this.BuildTcfFields(),this.allFields=[this.onlyThisSite,this.tcf.get(1),this.tcf.get(2),this.tcf.get(3),this.tcf.get(4),this.tcf.get(5),this.tcf.get(6),this.tcf.get(7),this.tcf.get(8),this.tcf.get(9),this.tcf.get(10),this.tcf.get(11),this.tcf.get(12),this.all,this.canSave,this.rid,this.pref],this.customFields=[this.tcf.get(1),this.tcf.get(2),this.tcf.get(3),this.tcf.get(4),this.tcf.get(5),this.tcf.get(6),this.tcf.get(7),this.tcf.get(8),this.tcf.get(9),this.tcf.get(10),this.tcf.get(11),this.tcf.get(12)],this.standardFields=[this.tcf.get(1),this.tcf.get(2),this.tcf.get(3),this.tcf.get(4),this.tcf.get(5),this.tcf.get(6),this.tcf.get(11),this.tcf.get(12)],this.changableFields=[],this.customFields.forEach((e=>{e instanceof Kt==!1&&this.changableFields.push(e)})),this.personalizedFields=this.customFields}get allPersisted(){return null!==this.pref.persisted&&this.rid.persisted}get nonePersisted(){return null===this.pref.persisted&&!1===this.rid.persisted}bind(){this.allFields.forEach((e=>e.bind()))}reset(){this.settingValues=!0,this.allFields.forEach((e=>e.reset())),this.settingValues=!1}setFromIdsAndPreferences(e){this.reset(),void 0!==e&&(void 0!==e.identifiers&&e.identifiers.length>0&&(Xt.Identifiers(e.identifiers),this.rid.setPersisted(e.identifiers)),void 0!==e.preferences&&this.pref.setPersisted(e.preferences))}BuildTcfFields(){const e=new Map;for(let t=Zt.MinId;t<=Zt.MaxId;t++){let n;switch(t){case 11:case 12:n=new Kt(this,!0);break;default:n=new Yt(this,!1)}e.set(t,n)}return e}}Zt.MinId=1,Zt.MaxId=12;class qt{static isEnabled(e){return!0===e.onlyThisSite.value&&!0===e.onlyThisSiteEnabled||!0===e.pref.hasChanged||!1===e.rid.persisted}}class Xt{static Preference(e){if(null===e)throw"Preference must be defined";Xt.Source(e.source),Xt.Version(e.version)}static Identifiers(e){if(null===e||0===e.length)throw"Identifiers must be defined";e.forEach((e=>Xt.Identifier(e)))}static Identifier(e){if(null===e)throw"Identifier must be defined";if(!0!==e.persisted)throw"Identifier must have been persisted";Xt.Source(e.source),Xt.Version(e.version)}static Source(e){if(null===e||null===e.domain||null===e.signature||null===e.timestamp||0===e.domain.length||0===e.signature.length||0===e.timestamp)throw`'${e}' is an invalid source`}static Version(e){if(!Xt.validVersions.includes(e))throw`Version '${e}' invalid`}}Xt.validVersions=["0.1"];class Qt{constructor(e){this.model=i.TCString.decode(e)}clone(){return new Qt(this.toString())}toString(){return i.SegmentEncoder.encode(this.model,i.Segment.CORE)}getPurposesConsent(){const e=[];for(let t=0;t<Qt.purposesConsentCount;t++)e.push(this.model.purposeConsents.has(t+1));return e}setPurposesConsent(e){if(e.length!==Qt.purposesConsentCount)throw`Value must be length '${Qt.purposesConsentCount}' but was '${e.length}'`;for(let t=0;t<Qt.purposesConsentCount;t++)e[t]?this.model.purposeConsents.set(t+1):this.model.purposeConsents.unset(t+1)}setDate(e){this.model.created=e,this.model.lastUpdated=e}getDate(){return this.model.created}}Qt.purposesConsentCount=Zt.MaxId;
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
function en(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{u(o.next(e))}catch(e){r(e)}}function a(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((o=o.apply(e,t||[])).next())}))}class tn extends class{constructor(e,t){this.view=e,this.id=t}getElement(){return null!==this.view.root?this.view.root.getElementById(this.id):null}}{constructor(){super(...arguments),this.field=null}setField(e){this.field=e}}class nn extends tn{bind(){const e=this.getElement();null!==e&&this.events.forEach((t=>{e.addEventListener(t,(()=>{if(null!==this.field){const t=this.getValue(e);this.field.value=t,this.field.value!==t&&this.setValue(this.field.value)}}))}))}}class on extends nn{constructor(){super(...arguments),this.events=["change"]}getValue(e){return e.checked}setValue(e){const t=super.getElement();null!==t&&(t.checked=e)}bind(){null!==this.field&&this.setValue(this.field.value),super.bind()}}class rn extends nn{constructor(e,t,n,o){super(e,t),this.events=["change"],this.trueValue=n,this.falseValue=o}getValue(e){return e.checked?this.trueValue:this.falseValue}setValue(e){const t=super.getElement();null!==t&&(t.checked=JSON.stringify(e)===JSON.stringify(this.trueValue))}bind(){null!==this.field&&this.setValue(this.field.value),super.bind()}}class sn extends tn{constructor(e,t,n){super(e,t),this.pairs=Array.from(n)}setValue(e){const t=super.getElement();if(null!==t){const n=this.getString(e);t.innerHTML=null!==n?n:""}}bind(){null!==this.field&&this.setValue(this.field.value)}getString(e){const t=JSON.stringify(e);for(const e of this.pairs)if(JSON.stringify(e[0])===t)return e[1];return null}}class an extends tn{setValue(e){const t=super.getElement();null!==t&&(t.disabled=!0!==e)}bind(){null!==this.field&&this.setValue(this.field.value)}}class un extends tn{constructor(e,t,n){super(e,t),this.enabled=n.siteOnlyEnabled}bind(){const e=this.getElement();null!==e&&(e.style.display=this.enabled?"":"none")}setValue(e){}}class ln extends tn{constructor(e,t,n){super(e,t),this.model=n}bind(){null!==this.field&&this.setValue(this.field.value)}setValue(e){var t,n;const o=super.getElement();if(null!==o){const i=null!==e&&void 0!==(null===(n=null===(t=this.model.rid)||void 0===t?void 0:t.value)||void 0===n?void 0:n.value);o.style.display=i?"":"none"}}}var dn,cn=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]];function pn(e){var t=function(e){return""!==e&&cn.reduce((function(t,n){var o=n[0],i=n[1];if(t)return t;var r=i.exec(e);return!!r&&[o,r]}),!1)}(e);return t?t[0]:null}!function(e){e.identifiers="paf_identifiers",e.preferences="paf_preferences",e.test_3pc="paf_test_3pc",e.lastRefresh="paf_last_refresh"}(dn||(dn={}));const fn=(e=new Date)=>{const t=new Date(e);return t.setMonth(t.getMonth()+3),t},hn=e=>void 0===e?void 0:JSON.parse(e),gn={verifyRead:"/paf-proxy/v1/verify/read",signWrite:"/paf-proxy/v1/sign/write",signPrefs:"/paf-proxy/v1/sign/prefs",read:"/paf-proxy/v1/ids-prefs",write:"/paf-proxy/v1/ids-prefs",verify3PC:"/paf-proxy/v1/3pc",newId:"/paf-proxy/v1/new-id",createSeed:"/paf-proxy/v1/seed"},mn={read:`/paf-proxy${"/paf/v1/redirect/get-ids-prefs"}`,write:`/paf-proxy${"/paf/v1/redirect/post-ids-prefs"}`},vn="returnUrl",bn="message";var yn,kn;!function(e){e.paf="paf"}(yn||(yn={})),function(e){e.NOT_PARTICIPATING="NOT_PARTICIPATING",e.REDIRECT_NEEDED="REDIRECT_NEEDED",e.PARTICIPATING="PARTICIPATING",e.UNKNOWN="UNKNOWN"}(kn||(kn={}));const _n=e=>e===kn.NOT_PARTICIPATING||e===kn.REDIRECT_NEEDED?void 0:e,wn=(e,t)=>{var n;return{identifiers:null!==(n=hn(_n(e)))&&void 0!==n?n:[],preferences:hn(_n(t))}},Cn=e=>{var t;return(null===(t=document.cookie.match(`(^|;)\\s*${e}\\s*=\\s*([^;]+)`))||void 0===t?void 0:t.pop())||void 0};var En;!function(e){e.personalizedContent="PERSONALIZED",e.generalContent="GENERAL"}(En||(En={}));class In{constructor(e,t){this.id=e,this.color=t}Debug(...e){console.log(...this.decorateLog("DEBUG:",e))}Message(...e){console.log(...this.decorateLog("MESSAGE:",e))}Info(...e){console.info(...this.decorateLog("INFO:",e))}Warn(...e){console.warn(...this.decorateLog("WARNING:",e))}Error(...e){console.error(...this.decorateLog("ERROR:",e))}decorateLog(e,t){const n=[].slice.call(t);return e&&n.unshift(e),n.unshift(In.label(this.color)),n.unshift(`%c${this.id}`),n}}In.label=e=>`display: inline-block; color: #fff; background: ${e}; padding: 1px 4px; border-radius: 3px;`;const On=new In("PAF","#3bb8c3"),Sn=e=>{On.Info("Redirecting to:",e),location.replace(e)},Ln=(e,t)=>fetch(e,{method:"POST",body:JSON.stringify(t),credentials:"include"}),Pn=e=>fetch(e,{method:"GET",credentials:"include"}),xn=(e,t,n)=>{document.cookie=`${e}=${t};expires=${n.toUTCString()}`},Tn=e=>{xn(e,null,new Date(0))},Vn=e=>{void 0!==e&&PAFUI.showNotification(e?En.personalizedContent:En.generalContent)},An=e=>t=>`https://${e}${t}`,Bn=(e,t)=>{const n=void 0===t?kn.NOT_PARTICIPATING:JSON.stringify(t);return On.Debug(`Save cookie ${e}:`,n),xn(e,n,fn()),xn(dn.lastRefresh,(new Date).toISOString(),new Date(Date.now()+6e4)),n};let Nn;var Rn;!function(e){e.doNotPrompt="doNotPrompt",e.doPrompt="doPrompt",e.promptIfUnknownUser="promptIfUnknownUser"}(Rn||(Rn={}));const Fn={proxyHostName:"MISSING_PROXY_HOST_NAME",showPrompt:Rn.promptIfUnknownUser,triggerRedirectIfNeeded:!0},Mn=(e,t,n)=>en(void 0,void 0,void 0,(function*(){const o={version:"0.1",data:{use_browsing_for_personalization:t}},i=yield jn({proxyHostName:e},{identifiers:n,unsignedPreferences:o});yield Hn({proxyHostName:e},{identifiers:n,preferences:i})}));const Dn=e=>en(void 0,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},Fn),e),{proxyHostName:n,triggerRedirectIfNeeded:o,redirectUrl:i}=t;let{showPrompt:r}=t;const s="paf_show_prompt",a=()=>{const e=((e,t)=>{const n=e.split("?");if(n.length>=2){const o=n.shift(),i=n.join("?"),r=t.map((e=>`${encodeURIComponent(e)}=`)),s=i.split(/[&;]/g);r.forEach((e=>{for(let t=s.length;t-- >0;)-1!==s[t].lastIndexOf(e,0)&&s.splice(t,1)})),e=o+(s.length>0?`?${s.join("&")}`:"")}return e})(location.href,[yn.paf,s]);history.pushState(null,"",e)},u=An(n),l=()=>{On.Info("Redirect to operator");const e=null!=i?i:new URL(u(mn.read)),t=new URL(location.href);t.searchParams.set(s,r),e.searchParams.set(vn,t.toString()),Sn(e.toString())},d=yield en(void 0,void 0,void 0,(function*(){var e,t,n,i,d,c,p;const f=new URLSearchParams(window.location.search),h=f.get(yn.paf),g=f.get(s);a();const m=Cn(dn.identifiers),v=Cn(dn.lastRefresh),b=Cn(dn.preferences),y=wn(m,b),k=null===(t=null===(e=y.preferences)||void 0===e?void 0:e.data)||void 0===t?void 0:t.use_browsing_for_personalization,_=e=>{e!==k?(On.Debug(`Preferences changes detected (${k} => ${e}), show notification`),Vn(e)):On.Debug(`No preferences changes (${k}), don't show notification`)};if(h)return On.Info("Redirected from operator: YES"),Nn=!1,r=g,yield function(){var e,t,n;return en(this,void 0,void 0,(function*(){const o=yield(i=u(gn.verifyRead),r=h,fetch(i,{method:"POST",body:r,credentials:"include"}));var i,r;const s=yield o.json();if(!s)throw"Verification failed";On.Debug("Operator data after redirect",s);const a=null===(e=s.body.identifiers)||void 0===e?void 0:e.filter((e=>!1!==(null==e?void 0:e.persisted))),l=a.length>0,d=null===(t=null==s?void 0:s.body)||void 0===t?void 0:t.preferences,c=void 0!==d;return Bn(dn.identifiers,l?a:void 0),Bn(dn.preferences,d),_(null===(n=null==d?void 0:d.data)||void 0===n?void 0:n.use_browsing_for_personalization),{status:l&&c?kn.PARTICIPATING:kn.UNKNOWN,data:s.body}}))}();On.Info("Redirected from operator: NO");const w=(E=b,(C=m)===kn.REDIRECT_NEEDED||E===kn.REDIRECT_NEEDED?kn.REDIRECT_NEEDED:C===kn.NOT_PARTICIPATING||E===kn.NOT_PARTICIPATING?kn.NOT_PARTICIPATING:kn.PARTICIPATING);var C,E,I;if(w===kn.REDIRECT_NEEDED)return On.Info("Redirect previously deferred"),o&&l(),{status:w};if(v)return On.Info("Cookie found: YES"),w===kn.NOT_PARTICIPATING&&On.Info("User is not participating"),{status:w,data:y};if(On.Info("Cookie found: NO"),(I=pn(navigator.userAgent))&&"safari"!==I){On.Info("Browser known to support 3PC: YES"),On.Info("Attempt to read from JSON");const e=yield Pn(u(gn.read)),t=yield e.json(),o=null===(n=t.body.identifiers)||void 0===n?void 0:n.filter((e=>!1!==(null==e?void 0:e.persisted))),r=o.length>0,s=void 0!==(null===(i=null==t?void 0:t.body)||void 0===i?void 0:i.preferences);if(r&&s)return On.Debug("Operator returned id & prefs: YES"),Nn=!0,Bn(dn.identifiers,o),Bn(dn.preferences,t.body.preferences),_(null===(c=null===(d=t.body.preferences)||void 0===d?void 0:d.data)||void 0===c?void 0:c.use_browsing_for_personalization),{status:kn.PARTICIPATING,data:t.body};On.Info("Operator returned id & prefs: NO"),On.Info("Verify 3PC on operator");const a=yield Pn(u(gn.verify3PC));if(null===(p=yield a.json())||void 0===p?void 0:p["3pc"])return On.Debug("3PC verification OK: YES"),Nn=!0,{status:kn.UNKNOWN,data:{identifiers:t.body.identifiers}};On.Info("3PC verification OK: NO"),Nn=!1,On.Info("Fallback to JS redirect")}else On.Info("Browser known to support 3PC: NO"),Nn=!1,On.Info("JS redirect");return o?l():(On.Info("Deffer redirect to later, in agreement with options"),Bn(dn.identifiers,kn.REDIRECT_NEEDED),Bn(dn.preferences,kn.REDIRECT_NEEDED)),{status:kn.REDIRECT_NEEDED}}));return On.Info("Processed refresh",d),yield function(e,t,n){return en(this,void 0,void 0,(function*(){const{status:o,data:i}=e;if(On.Debug("showPrompt",n),On.Debug("status",o),o===kn.REDIRECT_NEEDED)return;let r;if((n===Rn.doPrompt||n===Rn.promptIfUnknownUser&&o===kn.UNKNOWN)&&(r=yield PAFUI.promptConsent()),void 0===r)o===kn.UNKNOWN&&(Bn(dn.identifiers,void 0),Bn(dn.preferences,void 0));else{let e=i.identifiers;0===(null==e?void 0:e.length)&&(e=[yield zn({proxyHostName:t})]),yield Mn(t,r,e)}}))}(d,n,r),d})),Hn=({proxyHostName:e},t)=>en(void 0,void 0,void 0,(function*(){const n=An(e),o=yield en(void 0,void 0,void 0,(function*(){var e,o,i,r,s;if(On.Info("Attempt to write:",t.identifiers,t.preferences),Tn(dn.identifiers),Tn(dn.preferences),Nn){On.Info("3PC supported");const a=yield Ln(n(gn.signWrite),t),u=yield a.json(),l=yield Ln(n(gn.write),u),d=yield l.json(),c=null===(o=null===(e=null==d?void 0:d.body)||void 0===e?void 0:e.identifiers)||void 0===o?void 0:o.filter((e=>!1!==(null==e?void 0:e.persisted))),p=c.length>0;return Bn(dn.identifiers,p?c:void 0),Bn(dn.preferences,d.body.preferences),Vn(null===(s=null===(r=null===(i=null==d?void 0:d.body)||void 0===i?void 0:i.preferences)||void 0===r?void 0:r.data)||void 0===s?void 0:s.use_browsing_for_personalization),d.body}On.Info("3PC not supported: redirect");const a=new URL(n(mn.write));a.searchParams.set(vn,location.href),a.searchParams.set(bn,JSON.stringify(t));const u=a.toString();Sn(u)}));return On.Info("Finished",o),o})),jn=({proxyHostName:e},t)=>en(void 0,void 0,void 0,(function*(){const n=An(e),o=yield Ln(n(gn.signPrefs),t);return yield o.json()})),zn=({proxyHostName:e})=>en(void 0,void 0,void 0,(function*(){const t=An(e),n=yield Pn(t(gn.newId));return(yield n.json()).body.identifiers[0]}));var Un,Gn=e=>`<section class="ok-ui-card">\n    <header class="ok-ui-card__header">\n        <div class="ok-ui-card__actions">\n            ${e.LogoCenter}\n        </div>\n        <h1 class="ok-ui-heading-1">${e.introHeading}</h1>\n    </header>\n    <main class="ok-ui-card__body">\n        ${e.introBodyHTML}\n    </main>\n    <footer class="ok-ui-card__footer">\n        <div class="ok-ui-card__actions">\n            <button type="button" class="ok-ui-button ok-ui-button--filled" data-action="refuseAll">\n                ${e.refuseAll}\n            </button>\n            <button type="button" class="ok-ui-button ok-ui-button--filled" data-action="refresh">\n                ${e.proceed}\n            </button>\n        </div>\n    </footer>\n</section>`,$n=e=>`<section class="ok-ui-card">\n  <header class="ok-ui-card__header">\n    <h1 class="ok-ui-heading-1">\n      ${e.aboutHeading}\n      ${e.LogoCenter}\n    </h1>\n  </header>\n  <main class="ok-ui-card__body">\n    ${e.aboutBodyHTML}\n  </main>\n  <footer class="ok-ui-card__footer">\n    <div class="ok-ui-card__actions">\n      <button type="button" class="ok-ui-button ok-ui-button--filled" data-card="settings">\n        ${e.back}\n      </button>\n    </div>\n  </footer>\n</section>`,Wn=e=>`<form>\n  <section class="ok-ui-card">\n    <header class="ok-ui-card__header">\n      <div class="ok-ui-card__actions">\n        <a href="#" data-card="about">${e.Logo}</a>\n        <button type="button" class="ok-ui-button ok-ui-button--text ok-ui-button--icon-end" data-action="refuseAll">\n          <svg width="0.667em" height="0.667em" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M6.39332 0.666748L3.99999 3.06008L1.60666 0.666748L0.666656 1.60675L3.05999 4.00008L0.666656 6.39341L1.60666 7.33341L3.99999 4.94008L6.39332 7.33341L7.33332 6.39341L4.93999 4.00008L7.33332 1.60675L6.39332 0.666748Z" fill="currentColor"></path>\n          </svg>\n          <span class="ok-ui-button__label">${e.cancel}</span>\n        </button>\n      </div>\n      <h1 class="ok-ui-heading-1">${e.settingsHeading}</h1>\n      ${e.settingsBodyHTML}\n    </header>\n    <main class="ok-ui-card__body">\n      <div class="ok-ui-browsing-id-wrapper" id="ok-ui-settings-rid">\n        <span>\n          <span class="ok-ui-browsing-id-label" aria-describedby="ok-ui-your-browsing-id-tooltip">\n            ${e.settingsBrowsingId}\n          </span>\n          <button class="ok-ui-tooltip" tabindex="0">\n            <svg width="1.167em" height="1.167em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M6.33325 3.66659H7.66659V4.99992H6.33325V3.66659ZM6.33325 6.33325H7.66659V10.3333H6.33325V6.33325ZM6.99992 0.333252C3.31992 0.333252 0.333252 3.31992 0.333252 6.99992C0.333252 10.6799 3.31992 13.6666 6.99992 13.6666C10.6799 13.6666 13.6666 10.6799 13.6666 6.99992C13.6666 3.31992 10.6799 0.333252 6.99992 0.333252ZM6.99992 12.3333C4.05992 12.3333 1.66659 9.93992 1.66659 6.99992C1.66659 4.05992 4.05992 1.66659 6.99992 1.66659C9.93992 1.66659 12.3333 4.05992 12.3333 6.99992C12.3333 9.93992 9.93992 12.3333 6.99992 12.3333Z" fill="#B6BCCA"></path>\n            </svg>\n            <span class="ok-ui-tooltip__message-wrapper">\n              <span id="ok-ui-your-browsing-id-tooltip" class="ok-ui-tooltip__message">${e.settingsBrowsingIdTip}</span>\n            </span>\n          </button>\n        </span>\n        <button class="ok-ui-browsing-id" data-action="reset">\n          <span id="ok-ui-display-rid"></span>\n          <svg width="1em" height="1em" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M0.666748 11.3334V6.66668H5.33341L3.18875 8.81335C3.92872 9.57003 4.94172 9.99762 6.00008 10C7.69305 9.99751 9.20109 8.92949 9.76541 7.33335H9.77741C9.85378 7.11642 9.91154 6.8934 9.95008 6.66668H11.2914C10.9555 9.33328 8.68776 11.3333 6.00008 11.3334H5.99341C4.57926 11.3376 3.22219 10.7758 2.22475 9.77335L0.666748 11.3334ZM2.04941 5.33335H0.708081C1.04391 2.66775 3.31008 0.668109 5.99675 0.666653H6.00008C7.4145 0.662127 8.77189 1.22391 9.76941 2.22668L11.3334 0.666653V5.33335H6.66675L8.81475 3.18668C8.07401 2.42911 7.05961 2.00144 6.00008 2.00001C4.30712 2.00251 2.79907 3.07054 2.23475 4.66668H2.22275C2.14579 4.88342 2.08801 5.1065 2.05008 5.33335H2.04941Z"></path>\n          </svg>\n        </button>\n      </div>\n      <div class="ok-ui-option">\n        <input class="ok-ui-option__input" type="radio" name="marketing" value="1" id="ok-ui-marketing-1">\n        <label class="ok-ui-option__label" for="ok-ui-marketing-1">\n          <span class="ok-ui-option__input-facade"></span>\n          <div class="ok-ui-option__content">\n            <h2 class="ok-ui-heading-1">${e.settingsPersonalizedLabel}</h2>\n            <p>${e.settingsPersonalizedBody}</p>\n          </div>\n        </label>\n      </div>\n      <div class="ok-ui-option">\n        <input class="ok-ui-option__input" type="radio" name="marketing" value="0" id="ok-ui-marketing-0">\n        <label class="ok-ui-option__label" for="ok-ui-marketing-0">\n          <span class="ok-ui-option__input-facade"></span>\n          <div class="ok-ui-option__content">\n            <h2 class="ok-ui-heading-1">${e.settingsStandardLabel}</h2>\n            <p>${e.settingsStandardBody}</p>\n          </div>\n        </label>\n      </div>\n      <button type="button" class="ok-ui-button ok-ui-button--text" data-card="customize">\n        <span class="ok-ui-button__label">${e.customize}</span>\n      </button>\n      <div class="ok-ui-mt-2" id="ok-ui-only-this-site-container">\n        <div class="ok-ui-toggle ok-ui-toggle--input-start">\n          <input class="ok-ui-toggle__input" type="checkbox" name="only-this-site" value="1650376767704" id="ok-ui-only-this-site">\n          <label class="ok-ui-toggle__input-facade" for="ok-ui-only-this-site"></label>\n          <div class="ok-ui-toggle__content">\n            <label class="ok-ui-toggle__label " aria-described-by="ok-ui-only-this-site-tooltip" for="ok-ui-only-this-site">\n              ${e.settingsThisSite}\n            </label>\n          </div>\n        </div>\n      </div>\n    </main>\n    <footer class="ok-ui-card__footer">\n      <div class="ok-ui-card__actions">\n        <button type="button" class="ok-ui-button ok-ui-button--filled" data-action="refuseAll">\n          <span class="ok-ui-button__label">${e.refuseAll}</span>\n        </button>\n        <button type="button" class="ok-ui-button ok-ui-button--filled" id="ok-ui-button-save" data-action="save">\n          <span class="ok-ui-button__label">${e.save}</span>\n        </button>\n      </div>\n    </footer>\n  </section>\n</form>`,Yn=e=>`<form>\n    <section class="ok-ui-card">\n        <header class="ok-ui-card__header">\n            <div class="ok-ui-card__actions">\n                <a href="#" data-card="about">${e.Logo}</a>\n            </div>\n            <p class="ok-ui-heading-2">${e.customizeCurrent}</p>\n            <h1 class="ok-ui-heading-1 ok-ui-mb-2" id="ok-ui-display-marketing"></h1>\n            <div class="ok-ui-toggle-wrapper">\n                <div class="ok-ui-toggle ok-ui-toggle--input-end">\n                    <input class="ok-ui-toggle__input" type="checkbox" name="only-this-site" value="1650375977702" id="ok-ui-preference-all">\n                    <label class="ok-ui-toggle__input-facade" for="ok-ui-preference-all"></label>\n                    <div class="ok-ui-toggle__content">\n                        <label class="ok-ui-toggle__label ok-ui-toggle__label--emphasis" aria-described-by="ok-ui-preference-all-tooltip" for="ok-ui-preference-all">\n                            ${e.customizeAll}\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </header>\n        <main class="ok-ui-card__body">\n            ${e.customizeHtml}\n        </main>\n        <footer class="ok-ui-card__footer">\n            <div class="ok-ui-card__actions">\n                <button type="button" class="ok-ui-button ok-ui-button--outlined" data-card="settings">\n                    <svg width="1em" height="0.667em" viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M3.22 3.33382L5.60667 0.940488L4.66667 0.000488281L0.666666 4.00049L4.66667 8.00049L5.60667 7.06049L3.22 4.66716H11.3333V3.33382H3.22Z"></path>\n                    </svg>\n                    <span class="ok-ui-button__label">${e.back}</span>\n                </button>\n                <button type="button" class="ok-ui-button ok-ui-button--filled" id="ok-ui-button-save" data-action="save">\n                    <span class="ok-ui-button__label">${e.save}</span>\n                </button>\n            </div>\n        </footer>\n    </section>\n</form>`,Kn=e=>`<section class="ok-ui-snackbar">\n    <main class="ok-ui-snackbar__body">\n        <h1 class="ok-ui-heading-1" id="ok-ui-snackbar-heading"></h1>\n        <p id="ok-ui-snackbar-body"></p>\n    </main>\n    <footer class="ok-ui-snackbar__footer">\n        <a href="#" data-card="about">${e.Logo}</a>\n    </footer>\n</section>`,Jn=e=>`<div class="ok-ui-popup ok-ui-popup--open">\n    <div class="ok-ui-popup__block"></div>\n    <div class="ok-ui-popup__content">\n        ${e}\n    </div>\n</div>`;class Zn{constructor(e,t,n){this.root=null,this.currentCard=null,this.cardContainer=null,this.outerContainer=null,this.script=e,this.config=n,this.locale=t,this.locale.Logo='<svg width="72" height="16" viewBox="0 0 72 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="ok-ui-card__header-logo">\r\n  <title>OneKey</title>\r\n  <path d="M25.3993 13C24.4813 13 23.6376 12.7867 22.868 12.3602C22.1077 11.9337 21.5003 11.3403 21.046 10.58C20.6009 9.81039 20.3784 8.94808 20.3784 7.99305C20.3784 7.03802 20.6009 6.18034 21.046 5.42003C21.5003 4.65971 22.1077 4.0663 22.868 3.63978C23.6376 3.21326 24.4813 3 25.3993 3C26.3172 3 27.1564 3.21326 27.9167 3.63978C28.6863 4.0663 29.2889 4.65971 29.7247 5.42003C30.1698 6.18034 30.3923 7.03802 30.3923 7.99305C30.3923 8.94808 30.1698 9.81039 29.7247 10.58C29.2797 11.3403 28.677 11.9337 27.9167 12.3602C27.1564 12.7867 26.3172 13 25.3993 13ZM25.3993 10.8303C26.1781 10.8303 26.7994 10.5707 27.263 10.0515C27.7359 9.53222 27.9723 8.84608 27.9723 7.99305C27.9723 7.13074 27.7359 6.4446 27.263 5.93463C26.7994 5.41539 26.1781 5.15577 25.3993 5.15577C24.6111 5.15577 23.9806 5.41075 23.5078 5.92072C23.0442 6.43069 22.8124 7.12147 22.8124 7.99305C22.8124 8.85536 23.0442 9.54613 23.5078 10.0654C23.9806 10.5753 24.6111 10.8303 25.3993 10.8303Z" fill="#011630"/>\r\n  <path d="M40.4498 12.9026H38.0715L34.0938 6.88039V12.9026H31.7155V3.13908H34.0938L38.0715 9.18915V3.13908H40.4498V12.9026Z" fill="#011630"/>\r\n  <path d="M44.5521 5.04451V7.01947H47.7371V8.85536H44.5521V10.9972H48.1543V12.9026H42.1738V3.13908H48.1543V5.04451H44.5521Z" fill="#011630"/>\r\n  <path d="M55.1364 12.9026L50.9223 8.41029V12.9026H49.9487V3.18081H50.9223V7.72879L55.1364 3.18081H56.3743L51.8263 8.03477L56.416 12.9026H55.1364Z" fill="#011630"/>\r\n  <path d="M58.8271 3.97357V7.60362H62.5128V8.41029H58.8271V12.096H62.93V12.9026H57.8535V3.1669H62.93V3.97357H58.8271Z" fill="#011630"/>\r\n  <path d="M71.274 3.18081L68.1585 9.11961V12.9026H67.185V9.11961L64.0417 3.18081H65.1405L67.6718 8.22949L70.1891 3.18081H71.274Z" fill="#011630"/>\r\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.49283 13.7381C3.32679 13.9331 3.03303 13.9575 2.84795 13.7805C1.66063 12.6445 0.848987 11.1674 0.529604 9.54789C0.180236 7.77637 0.440442 5.93876 1.26791 4.33387C2.09537 2.72899 3.44143 1.45123 5.08718 0.708384C6.73294 -0.0344669 8.5816 -0.198718 10.3325 0.242339C12.0835 0.683396 13.6337 1.70382 14.7312 3.13767C15.8286 4.57153 16.4088 6.33448 16.3772 8.13985C16.3456 9.94522 15.7042 11.6868 14.5573 13.0814C13.7748 14.033 12.7883 14.7848 11.6798 15.2871C11.2733 15.4712 10.8299 15.1762 10.7942 14.7314L10.7724 14.4607C10.7482 14.1583 10.9261 13.8789 11.1985 13.7452C12.0126 13.3456 12.738 12.7748 13.3216 12.0651C14.2391 10.9494 14.7522 9.55617 14.7774 8.11188C14.8027 6.66758 14.3386 5.25722 13.4606 4.11014C12.5827 2.96305 11.3425 2.14672 9.94172 1.79387C8.54097 1.44103 7.06204 1.57243 5.74543 2.16671C4.42882 2.76099 3.35198 3.78319 2.69001 5.0671C2.02804 6.351 1.81987 7.82109 2.09937 9.23831C2.34886 10.5034 2.97385 11.66 3.88749 12.5598C4.06997 12.7395 4.09482 13.0311 3.92878 13.2261L3.49283 13.7381ZM12.8919 8.00024C12.8919 10.2307 11.2769 12.084 9.15246 12.4545L9.15246 15.5945L9.08201 15.5945C8.9905 15.8255 8.77551 15.9946 8.50887 15.9993C7.43381 16.018 6.36585 15.8197 5.36913 15.4165C5.0159 15.2736 4.88157 14.8551 5.05438 14.5155L5.15421 14.3194C5.32702 13.9798 5.74146 13.8484 6.09768 13.9836C6.57387 14.1645 7.06912 14.2875 7.57275 14.3507L7.57275 12.4519C5.45574 12.0752 3.84838 10.2255 3.84838 8.00024C3.84838 5.50295 5.87283 3.4785 8.37012 3.4785C10.8674 3.4785 12.8919 5.50295 12.8919 8.00024ZM11.2984 8.00024C11.2984 6.38301 9.98735 5.07198 8.37012 5.07198C6.75289 5.07198 5.44186 6.38301 5.44186 8.00024C5.44186 9.61747 6.75289 10.9285 8.37012 10.9285C9.98735 10.9285 11.2984 9.61747 11.2984 8.00024Z" fill="url(#paint0_linear_402_35552)"/>\r\n  <defs>\r\n    <linearGradient id="paint0_linear_402_35552" x1="1.45534" y1="1.31151" x2="12.1835" y2="16.7662" gradientUnits="userSpaceOnUse">\r\n      <stop stop-color="#09F7FF"/>\r\n      <stop offset="1" stop-color="#0F9AFD"/>\r\n    </linearGradient>\r\n  </defs>\r\n</svg>',this.locale.LogoCenter='<svg width="72" height="16" viewBox="0 0 72 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="ok-ui-card__header-logo ok-ui-card__header-logo--center">\r\n  <title>OneKey</title>\r\n  <path d="M25.3993 13C24.4813 13 23.6376 12.7867 22.868 12.3602C22.1077 11.9337 21.5003 11.3403 21.046 10.58C20.6009 9.81039 20.3784 8.94808 20.3784 7.99305C20.3784 7.03802 20.6009 6.18034 21.046 5.42003C21.5003 4.65971 22.1077 4.0663 22.868 3.63978C23.6376 3.21326 24.4813 3 25.3993 3C26.3172 3 27.1564 3.21326 27.9167 3.63978C28.6863 4.0663 29.2889 4.65971 29.7247 5.42003C30.1698 6.18034 30.3923 7.03802 30.3923 7.99305C30.3923 8.94808 30.1698 9.81039 29.7247 10.58C29.2797 11.3403 28.677 11.9337 27.9167 12.3602C27.1564 12.7867 26.3172 13 25.3993 13ZM25.3993 10.8303C26.1781 10.8303 26.7994 10.5707 27.263 10.0515C27.7359 9.53222 27.9723 8.84608 27.9723 7.99305C27.9723 7.13074 27.7359 6.4446 27.263 5.93463C26.7994 5.41539 26.1781 5.15577 25.3993 5.15577C24.6111 5.15577 23.9806 5.41075 23.5078 5.92072C23.0442 6.43069 22.8124 7.12147 22.8124 7.99305C22.8124 8.85536 23.0442 9.54613 23.5078 10.0654C23.9806 10.5753 24.6111 10.8303 25.3993 10.8303Z" fill="#011630"/>\r\n  <path d="M40.4498 12.9026H38.0715L34.0938 6.88039V12.9026H31.7155V3.13908H34.0938L38.0715 9.18915V3.13908H40.4498V12.9026Z" fill="#011630"/>\r\n  <path d="M44.5521 5.04451V7.01947H47.7371V8.85536H44.5521V10.9972H48.1543V12.9026H42.1738V3.13908H48.1543V5.04451H44.5521Z" fill="#011630"/>\r\n  <path d="M55.1364 12.9026L50.9223 8.41029V12.9026H49.9487V3.18081H50.9223V7.72879L55.1364 3.18081H56.3743L51.8263 8.03477L56.416 12.9026H55.1364Z" fill="#011630"/>\r\n  <path d="M58.8271 3.97357V7.60362H62.5128V8.41029H58.8271V12.096H62.93V12.9026H57.8535V3.1669H62.93V3.97357H58.8271Z" fill="#011630"/>\r\n  <path d="M71.274 3.18081L68.1585 9.11961V12.9026H67.185V9.11961L64.0417 3.18081H65.1405L67.6718 8.22949L70.1891 3.18081H71.274Z" fill="#011630"/>\r\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.49283 13.7381C3.32679 13.9331 3.03303 13.9575 2.84795 13.7805C1.66063 12.6445 0.848987 11.1674 0.529604 9.54789C0.180236 7.77637 0.440442 5.93876 1.26791 4.33387C2.09537 2.72899 3.44143 1.45123 5.08718 0.708384C6.73294 -0.0344669 8.5816 -0.198718 10.3325 0.242339C12.0835 0.683396 13.6337 1.70382 14.7312 3.13767C15.8286 4.57153 16.4088 6.33448 16.3772 8.13985C16.3456 9.94522 15.7042 11.6868 14.5573 13.0814C13.7748 14.033 12.7883 14.7848 11.6798 15.2871C11.2733 15.4712 10.8299 15.1762 10.7942 14.7314L10.7724 14.4607C10.7482 14.1583 10.9261 13.8789 11.1985 13.7452C12.0126 13.3456 12.738 12.7748 13.3216 12.0651C14.2391 10.9494 14.7522 9.55617 14.7774 8.11188C14.8027 6.66758 14.3386 5.25722 13.4606 4.11014C12.5827 2.96305 11.3425 2.14672 9.94172 1.79387C8.54097 1.44103 7.06204 1.57243 5.74543 2.16671C4.42882 2.76099 3.35198 3.78319 2.69001 5.0671C2.02804 6.351 1.81987 7.82109 2.09937 9.23831C2.34886 10.5034 2.97385 11.66 3.88749 12.5598C4.06997 12.7395 4.09482 13.0311 3.92878 13.2261L3.49283 13.7381ZM12.8919 8.00024C12.8919 10.2307 11.2769 12.084 9.15246 12.4545L9.15246 15.5945L9.08201 15.5945C8.9905 15.8255 8.77551 15.9946 8.50887 15.9993C7.43381 16.018 6.36585 15.8197 5.36913 15.4165C5.0159 15.2736 4.88157 14.8551 5.05438 14.5155L5.15421 14.3194C5.32702 13.9798 5.74146 13.8484 6.09768 13.9836C6.57387 14.1645 7.06912 14.2875 7.57275 14.3507L7.57275 12.4519C5.45574 12.0752 3.84838 10.2255 3.84838 8.00024C3.84838 5.50295 5.87283 3.4785 8.37012 3.4785C10.8674 3.4785 12.8919 5.50295 12.8919 8.00024ZM11.2984 8.00024C11.2984 6.38301 9.98735 5.07198 8.37012 5.07198C6.75289 5.07198 5.44186 6.38301 5.44186 8.00024C5.44186 9.61747 6.75289 10.9285 8.37012 10.9285C9.98735 10.9285 11.2984 9.61747 11.2984 8.00024Z" fill="url(#paint0_linear_402_35552)"/>\r\n  <defs>\r\n    <linearGradient id="paint0_linear_402_35552" x1="1.45534" y1="1.31151" x2="12.1835" y2="16.7662" gradientUnits="userSpaceOnUse">\r\n      <stop stop-color="#09F7FF"/>\r\n      <stop offset="1" stop-color="#0F9AFD"/>\r\n    </linearGradient>\r\n  </defs>\r\n</svg>'}setCard(e){this.setContainerCard(e)}hidePopup(){var e;this.getCardContainer().style.display="none",null===(e=this.getPopUp())||void 0===e||e.classList.remove("ok-ui-popup--open")}showPopup(){var e;this.getCardContainer().style.display="",null===(e=this.getPopUp())||void 0===e||e.classList.add("ok-ui-popup--open")}getActionElements(){const e=[];return Zn.addElements(e,this.cardContainer.getElementsByTagName("button")),Zn.addElements(e,this.cardContainer.getElementsByTagName("a")),e}static addElements(e,t){for(let n=0;n<t.length;n++)e.push(t[n])}setContainerCard(e){let t;const n=this.getTemplate(e),o=this.getTemplateContainer(e);t=null!==o?o(n(this.locale)):n(this.locale),this.getCardContainer().innerHTML=this.config.replace(t),this.currentCard=e}setLocaleCustomizeHtml(){if(null===this.locale.customizeHtml){const t=Math.min(this.locale.customizeLabels.length,this.locale.customizeTips.length);let n="";for(let o=0;o<t;o++)n+=`<div class="ok-ui-toggle-wrapper">\n    <div class="ok-ui-toggle ok-ui-toggle--input-end">\n        <input class="ok-ui-toggle__input" type="checkbox" name="preference" value="${(e={Index:o+1,Label:this.locale.customizeLabels[o],Tip:this.locale.customizeTips[o]}).Index}" id="ok-ui-preference-${e.Index}">\n        <label class="ok-ui-toggle__input-facade" for="ok-ui-preference-${e.Index}"></label>\n        <div class="ok-ui-toggle__content">\n            <label class="ok-ui-toggle__label " aria-described-by="ok-ui-preference-${e.Index}-tooltip" for="ok-ui-preference-${e.Index}">\n                ${e.Label}\n            </label>\n            <button class="ok-ui-tooltip" tabindex="0">\n                <svg width="1.167em" height="1.167em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M6.33325 3.66659H7.66659V4.99992H6.33325V3.66659ZM6.33325 6.33325H7.66659V10.3333H6.33325V6.33325ZM6.99992 0.333252C3.31992 0.333252 0.333252 3.31992 0.333252 6.99992C0.333252 10.6799 3.31992 13.6666 6.99992 13.6666C10.6799 13.6666 13.6666 10.6799 13.6666 6.99992C13.6666 3.31992 10.6799 0.333252 6.99992 0.333252ZM6.99992 12.3333C4.05992 12.3333 1.66659 9.93992 1.66659 6.99992C1.66659 4.05992 4.05992 1.66659 6.99992 1.66659C9.93992 1.66659 12.3333 4.05992 12.3333 6.99992C12.3333 9.93992 9.93992 12.3333 6.99992 12.3333Z" fill="#B6BCCA"></path>\n                </svg>\n                <span class="ok-ui-tooltip__message-wrapper">\n                    <span id="ok-ui-preference-${e.Index}-tooltip" class="ok-ui-tooltip__message">${e.Tip}</span>\n                </span>\n            </button>\n        </div>\n    </div>\n</div>`;this.locale.customizeHtml=n}var e}getTemplate(e){switch(e){case"about":return $n;case"intro":return Gn;case"settings":return Wn;case"customize":return this.setLocaleCustomizeHtml(),Yn;case"snackbar":return Kn;default:return this.config.displayIntro?Gn:Wn}}getTemplateContainer(e){return"snackbar"===e?null:Jn}getPopUp(){const e=this.getCardContainer().getElementsByClassName("ok-ui-popup");return null!==e&&e.length>0?e[0]:null}getCardContainer(){return null===this.cardContainer&&this.addContainer(),this.cardContainer}addContainer(){this.outerContainer=this.script.parentElement.appendChild(document.createElement("div"));const e=document.createElement("style");e.innerHTML='\ufeff.ok-ui{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:12px;line-height:1.5;color:#252e38;box-sizing:border-box}.ok-ui *,.ok-ui *::before,.ok-ui *::after{box-sizing:inherit;font-family:inherit;font-size:inherit;line-height:inherit;color:inherit}.ok-ui,.ok-ui *,.ok-ui *::before,.ok-ui *::after{padding:0;margin:0;border:none;outline:none;text-transform:none;transition:none;box-shadow:none;background:transparent}.ok-ui .ok-ui-heading-1{font-family:Verdana,sans-serif;font-size:1.083em;line-height:1.429;font-weight:600}.ok-ui .ok-ui-heading-2{font-family:Verdana,sans-serif;font-size:1em;line-height:1.333;font-weight:600}.ok-ui .ok-ui-browsing-id-wrapper{display:flex;align-items:center;margin-top:.3333333333em;margin-bottom:.6666666667em}.ok-ui .ok-ui-browsing-id-label{font-weight:600}.ok-ui .ok-ui-browsing-id-wrapper .ok-ui-browsing-id{margin-left:auto}.ok-ui .ok-ui-browsing-id{position:relative;display:flex;align-items:center;max-width:10em;padding:.3333333333em .6666666667em;border-radius:8px;font-family:Arial,sans-serif;font-weight:600;color:#18a9e1;overflow:hidden;background-color:rgba(24,169,225,.12);transition:max-width .3s ease-out}.ok-ui .ok-ui-browsing-id:focus{box-shadow:0 0 0 .3333333333em rgba(24,169,225,.12)}.ok-ui .ok-ui-browsing-id>svg{fill:currentColor}.ok-ui .ok-ui-browsing-id>*{opacity:1;transition:opacity .3s ease-out}.ok-ui .ok-ui-browsing-id>svg{margin-left:.6666666667em}.ok-ui .ok-ui-browsing-id--loading{max-width:3em}.ok-ui .ok-ui-browsing-id--loading>*{opacity:0}.ok-ui .ok-ui-browsing-id--loading::after{content:"..";position:absolute;top:0;left:.0833333333em;right:0;bottom:0;font-size:1.6666666667em;line-height:1;animation:ok-ui-browsing-id-loading 1s infinite}@keyframes ok-ui-browsing-id-loading{0%{content:".."}25%{content:".."}50%{content:".."}75%{content:"..."}}.ok-ui .ok-ui-button{display:flex;justify-content:center;align-items:center;width:100%;padding:.6666666667em 1em;border-radius:999px;text-align:center;line-height:1.333;font-weight:600;cursor:pointer}.ok-ui .ok-ui-button[disabled]{cursor:default}.ok-ui .ok-ui-button--filled{color:#fff;background-color:#18a9e1}.ok-ui .ok-ui-button--filled:focus{box-shadow:0 0 0 .3333333333em rgba(24,169,225,.12)}.ok-ui .ok-ui-button--filled:focus,.ok-ui .ok-ui-button--filled:hover{background-color:#127faa}.ok-ui .ok-ui-button--filled:active{background-color:#11759c}.ok-ui .ok-ui-button--filled[disabled]{background-color:#c4c6ca}.ok-ui .ok-ui-button--outlined{color:#18a9e1;border:solid .0833333333em #18a9e1}.ok-ui .ok-ui-button--outlined:focus{box-shadow:0 0 0 .3333333333em rgba(24,169,225,.12)}.ok-ui .ok-ui-button--outlined:focus,.ok-ui .ok-ui-button--outlined:hover{color:#127faa;border-color:#127faa}.ok-ui .ok-ui-button--outlined:active{color:#11759c;border-color:#11759c;background-color:rgba(24,169,225,.12)}.ok-ui .ok-ui-button--outlined[disabled]{color:#c4c6ca;border-color:#c4c6ca}.ok-ui .ok-ui-button--text{color:#18a9e1}.ok-ui .ok-ui-button--text:focus{box-shadow:0 0 0 .3333333333em rgba(24,169,225,.12)}.ok-ui .ok-ui-button--text:focus,.ok-ui .ok-ui-button--text:hover{color:#127faa}.ok-ui .ok-ui-button--text:active{color:#11759c;background-color:rgba(24,169,225,.12)}.ok-ui .ok-ui-button--text[disabled]{color:#c4c6ca}.ok-ui .ok-ui-button--small{padding:.3333333333em .6666666667em}.ok-ui .ok-ui-button>svg{fill:currentColor;margin-right:.3333333333em}.ok-ui .ok-ui-button--icon-end>.ok-ui-button__label{order:-1}.ok-ui .ok-ui-button--icon-end>svg{margin-right:0;margin-left:.3333333333em}.ok-ui .ok-ui-button--icon-only{display:inline-flex;width:auto;align-items:center;justify-content:center}.ok-ui .ok-ui-button--icon-only>svg{margin-right:0}.ok-ui .ok-ui-button.ok-ui-button--icon-only{padding:.6666666667em;min-width:2.6666666667em;min-height:2.6666666667em}.ok-ui .ok-ui-button--small.ok-ui-button--icon-only{padding:.3333333333em;min-width:2em;min-height:2em}.ok-ui .ok-ui-button+.ok-ui-button,.ok-ui .ok-ui-spacer+.ok-ui-button{margin-left:.6666666667em}.ok-ui .ok-ui-card{display:flex;flex-direction:column;width:40em;max-width:100vw;max-height:100vh;overflow:hidden;border-radius:8px;background-color:#fff}@media(min-width: 40em){.ok-ui .ok-ui-card{padding:1.3333333333em}}@media(min-width: 352px){.ok-ui .ok-ui-card{max-width:calc(100vw - 32px);max-height:calc(100vh - 32px);margin:16px}}.ok-ui .ok-ui-card__header,.ok-ui .ok-ui-card__body,.ok-ui .ok-ui-card__footer{padding:1.3333333333em}.ok-ui .ok-ui-card__header{text-align:center}.ok-ui .ok-ui-card__header-logo{display:block;width:6em}.ok-ui [class*=ok-ui-heading-] .ok-ui-card__header-logo,.ok-ui [class*=ok-ui-heading-]+.ok-ui-card__header-logo{margin-top:.6666666667em;margin-bottom:0em}.ok-ui .ok-ui-card__header-logo--center{margin-left:auto;margin-right:auto}.ok-ui .ok-ui-card__header .ok-ui-heading-2{color:#505253}.ok-ui .ok-ui-card__header>p,.ok-ui .ok-ui-card__body>p,.ok-ui .ok-ui-card__footer>p{color:#828586;text-align:center}.ok-ui .ok-ui-card__header>p{margin-top:.6666666667em}.ok-ui .ok-ui-card__body{overflow:auto;padding-top:0}.ok-ui .ok-ui-card__body>p{margin-bottom:.6666666667em}.ok-ui .ok-ui-card__body>:last-child{margin-bottom:0}.ok-ui .ok-ui-card__actions{display:flex;align-items:center}.ok-ui .ok-ui-card__header .ok-ui-card__actions{justify-content:space-between;margin-bottom:.6666666667em}.ok-ui .ok-ui-card__header .ok-ui-card__actions .ok-ui-button{width:auto}.ok-ui .ok-ui-card__footer .ok-ui-card__actions>*{flex:1}.ok-ui .ok-ui-link{text-decoration:underline;color:#18a9e1}.ok-ui .ok-ui-option{margin-bottom:.6666666667em}.ok-ui .ok-ui-option__input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}.ok-ui .ok-ui-option__label{display:flex;padding:.6666666667em;border:solid .0833333333em #f7f7f7;border-radius:8px;color:#505253;background-color:#f7f7f7;cursor:pointer}@media(min-width: 40em){.ok-ui .ok-ui-option__label{padding:1.3333333333em}}.ok-ui .ok-ui-option__label:hover{border-color:#c4c6ca;background-color:#fff}.ok-ui .ok-ui-option__label p{color:#828586}.ok-ui .ok-ui-option__input-facade{position:relative;display:block;flex:0 0 1.3333333333em;width:1.3333333333em;height:1.3333333333em;margin-right:.6666666667em;border:solid .0833333333em #c4c6ca;border-radius:999px}.ok-ui .ok-ui-option__input:focus~.ok-ui-option__label .ok-ui-option__input-facade{box-shadow:0 0 0 .3333333333em rgba(24,169,225,.12)}.ok-ui .ok-ui-option__input:checked~.ok-ui-option__label{border-color:#18a9e1;background-color:#fff}.ok-ui .ok-ui-option__input:checked~.ok-ui-option__label .ok-ui-option__input-facade{border-color:#828586}.ok-ui .ok-ui-option__input:checked~.ok-ui-option__label .ok-ui-option__input-facade::before{content:"";position:absolute;top:.1666666667em;left:.1666666667em;width:.8333333333em;height:.8333333333em;border-radius:999px;background-color:#18a9e1}.ok-ui .ok-ui-popup{display:none;position:fixed;top:0;left:0;right:0;bottom:0;z-index:10000}.ok-ui .ok-ui-popup--open{display:flex;align-items:center;justify-content:center}.ok-ui .ok-ui-popup__block{position:absolute;top:0;left:0;right:0;bottom:0;z-index:0;background-color:rgba(0,0,0,.25)}.ok-ui .ok-ui-popup__content{z-index:1}.ok-ui .ok-ui-provider{display:flex;align-items:center;padding:.6666666667em 0;border-bottom:solid .0833333333em #e1e3e8}.ok-ui .ok-ui-provider .ok-ui-heading-1{flex:1;margin-left:.6666666667em;margin-right:.6666666667em}.ok-ui .ok-ui-snackbar{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);z-index:10000;width:52.75em;max-width:calc(100vw - 32px);border-radius:8px;box-shadow:0 .6666666667em 1em rgba(0,0,0,.12)}.ok-ui .ok-ui-snackbar__body{padding:1.3333333333em;border-radius:8px 8px 0 0;background-color:#fff}.ok-ui .ok-ui-snackbar__body p{margin-top:.3333333333em;color:#505253}.ok-ui .ok-ui-snackbar__icon{flex:0 0 3.3333333333em;width:3.3333333333em;height:3.3333333333em;margin-right:1.3333333333em;border-radius:8px;background-color:rgba(24,169,225,.12)}.ok-ui .ok-ui-snackbar__footer{display:flex;justify-content:flex-end;padding:.6666666667em;border-radius:0 0 8px 8px;color:#828586;background-color:#f7f7f7}.ok-ui .ok-ui-spacer{flex:1}.ok-ui .ok-ui-toggle-wrapper{padding-top:.6666666667em;padding-bottom:.6666666667em;border-bottom:solid .0833333333em #e1e3e8}.ok-ui .ok-ui-toggle{display:flex;align-items:center}.ok-ui .ok-ui-toggle--input-end .ok-ui-toggle__input-facade{order:2;margin-left:auto}.ok-ui .ok-ui-toggle--input-end .ok-ui-toggle__content{margin-left:0;margin-right:.6666666667em}.ok-ui .ok-ui-toggle__input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}.ok-ui .ok-ui-toggle__label{color:#505253;cursor:pointer}.ok-ui .ok-ui-toggle__label+.ok-ui-link{margin-left:.3333333333em}.ok-ui .ok-ui-toggle__label--emphasis{font-weight:600}.ok-ui .ok-ui-toggle__content{margin-left:.6666666667em}.ok-ui .ok-ui-toggle__input-facade{position:relative;display:block;flex:0 0 2.6666666667em;width:2.6666666667em;height:1.6666666667em;border:solid .0833333333em #c4c6ca;border-radius:999px;cursor:pointer}.ok-ui .ok-ui-toggle__input-facade::before{content:"";position:absolute;top:.25em;left:.25em;width:1em;height:1em;border-radius:999px;transition:left .3s ease-out,background-color .3s ease-out;background-color:#c4c6ca}.ok-ui .ok-ui-toggle:hover .ok-ui-toggle__input:not(:disabled)~.ok-ui-toggle__input-facade{border-color:#828586}.ok-ui .ok-ui-toggle__input:disabled~.ok-ui-toggle__input-facade,.ok-ui .ok-ui-toggle__input:disabled~.ok-ui-toggle__content .ok-ui-toggle__label{cursor:default}.ok-ui .ok-ui-toggle__input:disabled~.ok-ui-toggle__input-facade{background-color:#f7f7f7}.ok-ui .ok-ui-toggle__input:focus~.ok-ui-toggle__input-facade{box-shadow:0 0 0 .3333333333em rgba(24,169,225,.12)}.ok-ui .ok-ui-toggle__input:checked~.ok-ui-toggle__input-facade::before{left:1.25em;background-color:#18a9e1}.ok-ui .ok-ui-tooltip{display:inline-flex;align-items:center;width:1.3333333333em;height:1.3333333333em;margin-left:.3333333333em;cursor:pointer}.ok-ui .ok-ui-tooltip>*{pointer-events:none}.ok-ui .ok-ui-tooltip>svg{position:relative;top:.1666666667em}.ok-ui .ok-ui-tooltip:focus>svg{border-radius:999px;box-shadow:0 0 0 .3333333333em rgba(24,169,225,.12)}.ok-ui .ok-ui-tooltip__message{display:none;z-index:1;width:16.6666666667em;padding:.6666666667em;border-radius:8px;color:#fff;text-align:center;background-color:#252e38;box-shadow:0 .6666666667em 1em rgba(0,0,0,.12);cursor:default}.ok-ui .ok-ui-tooltip__message::after{content:"";position:absolute;left:50%;transform:translate3d(-0.6666666667em, -0.1666666667em, 0);border-left:.6666666667em solid transparent;border-right:.6666666667em solid transparent}.ok-ui .ok-ui-tooltip__message[data-popper-placement=top]::after{bottom:-.6666666667em;border-top:.5em solid #252e38}.ok-ui .ok-ui-tooltip__message[data-popper-placement=bottom]::after{top:-.3333333333em;border-bottom:.5em solid #252e38}.ok-ui .ok-ui-tooltip[data-show] .ok-ui-tooltip__message{display:block}.ok-ui .ok-ui-mt-0{margin-top:0px}.ok-ui .ok-ui-mb-0{margin-bottom:0px}.ok-ui .ok-ui-mt-1{margin-top:8px}.ok-ui .ok-ui-mb-1{margin-bottom:8px}.ok-ui .ok-ui-mt-2{margin-top:16px}.ok-ui .ok-ui-mb-2{margin-bottom:16px}'.trim();const t=document.createElement("script");t.type="text/javascript",t.innerHTML='(()=>{"use strict";function e(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function t(t){return t instanceof e(t).Element||t instanceof Element}function n(t){return t instanceof e(t).HTMLElement||t instanceof HTMLElement}function o(t){return"undefined"!=typeof ShadowRoot&&(t instanceof e(t).ShadowRoot||t instanceof ShadowRoot)}var r=Math.max,i=Math.min,a=Math.round;function s(e,t){void 0===t&&(t=!1);var o=e.getBoundingClientRect(),r=1,i=1;if(n(e)&&t){var s=e.offsetHeight,f=e.offsetWidth;f>0&&(r=a(o.width)/f||1),s>0&&(i=a(o.height)/s||1)}return{width:o.width/r,height:o.height/i,top:o.top/i,right:o.right/r,bottom:o.bottom/i,left:o.left/r,x:o.left/r,y:o.top/i}}function f(t){var n=e(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function c(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){return((t(e)?e.ownerDocument:e.document)||window.document).documentElement}function l(e){return s(u(e)).left+f(e).scrollLeft}function p(t){return e(t).getComputedStyle(t)}function d(e){var t=p(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function h(t,o,r){void 0===r&&(r=!1);var i,p,h=n(o),m=n(o)&&function(e){var t=e.getBoundingClientRect(),n=a(t.width)/e.offsetWidth||1,o=a(t.height)/e.offsetHeight||1;return 1!==n||1!==o}(o),v=u(o),g=s(t,m),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(h||!h&&!r)&&(("body"!==c(o)||d(v))&&(y=(i=o)!==e(i)&&n(i)?{scrollLeft:(p=i).scrollLeft,scrollTop:p.scrollTop}:f(i)),n(o)?((b=s(o,!0)).x+=o.clientLeft,b.y+=o.clientTop):v&&(b.x=l(v))),{x:g.left+y.scrollLeft-b.x,y:g.top+y.scrollTop-b.y,width:g.width,height:g.height}}function m(e){var t=s(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function v(e){return"html"===c(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||u(e)}function g(e){return["html","body","#document"].indexOf(c(e))>=0?e.ownerDocument.body:n(e)&&d(e)?e:g(v(e))}function y(t,n){var o;void 0===n&&(n=[]);var r=g(t),i=r===(null==(o=t.ownerDocument)?void 0:o.body),a=e(r),s=i?[a].concat(a.visualViewport||[],d(r)?r:[]):r,f=n.concat(s);return i?f:f.concat(y(v(s)))}function b(e){return["table","td","th"].indexOf(c(e))>=0}function w(e){return n(e)&&"fixed"!==p(e).position?e.offsetParent:null}function x(t){for(var o=e(t),r=w(t);r&&b(r)&&"static"===p(r).position;)r=w(r);return r&&("html"===c(r)||"body"===c(r)&&"static"===p(r).position)?o:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&n(e)&&"fixed"===p(e).position)return null;for(var o=v(e);n(o)&&["html","body"].indexOf(c(o))<0;){var r=p(o);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return o;o=o.parentNode}return null}(t)||o}var O="top",j="bottom",E="right",A="left",L="auto",k=[O,j,E,A],D="start",M="end",P="viewport",W="popper",B=k.reduce((function(e,t){return e.concat([t+"-"+D,t+"-"+M])}),[]),H=[].concat(k,[L]).reduce((function(e,t){return e.concat([t,t+"-"+D,t+"-"+M])}),[]),R=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function T(e){var t=new Map,n=new Set,o=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&r(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),o}var S={placement:"bottom",modifiers:[],strategy:"absolute"};function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}var C={passive:!0};function I(e){return e.split("-")[0]}function N(e){return e.split("-")[1]}function q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function _(e){var t,n=e.reference,o=e.element,r=e.placement,i=r?I(r):null,a=r?N(r):null,s=n.x+n.width/2-o.width/2,f=n.y+n.height/2-o.height/2;switch(i){case O:t={x:s,y:n.y-o.height};break;case j:t={x:s,y:n.y+n.height};break;case E:t={x:n.x+n.width,y:f};break;case A:t={x:n.x-o.width,y:f};break;default:t={x:n.x,y:n.y}}var c=i?q(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case D:t[c]=t[c]-(n[u]/2-o[u]/2);break;case M:t[c]=t[c]+(n[u]/2-o[u]/2)}}return t}var F={top:"auto",right:"auto",bottom:"auto",left:"auto"};function U(t){var n,o=t.popper,r=t.popperRect,i=t.placement,s=t.variation,f=t.offsets,c=t.position,l=t.gpuAcceleration,d=t.adaptive,h=t.roundOffsets,m=t.isFixed,v=f.x,g=void 0===v?0:v,y=f.y,b=void 0===y?0:y,w="function"==typeof h?h({x:g,y:b}):{x:g,y:b};g=w.x,b=w.y;var L=f.hasOwnProperty("x"),k=f.hasOwnProperty("y"),D=A,P=O,W=window;if(d){var B=x(o),H="clientHeight",R="clientWidth";B===e(o)&&"static"!==p(B=u(o)).position&&"absolute"===c&&(H="scrollHeight",R="scrollWidth"),B=B,(i===O||(i===A||i===E)&&s===M)&&(P=j,b-=(m&&W.visualViewport?W.visualViewport.height:B[H])-r.height,b*=l?1:-1),i!==A&&(i!==O&&i!==j||s!==M)||(D=E,g-=(m&&W.visualViewport?W.visualViewport.width:B[R])-r.width,g*=l?1:-1)}var T,S=Object.assign({position:c},d&&F),V=!0===h?function(e){var t=e.x,n=e.y,o=window.devicePixelRatio||1;return{x:a(t*o)/o||0,y:a(n*o)/o||0}}({x:g,y:b}):{x:g,y:b};return g=V.x,b=V.y,l?Object.assign({},S,((T={})[P]=k?"0":"",T[D]=L?"0":"",T.transform=(W.devicePixelRatio||1)<=1?"translate("+g+"px, "+b+"px)":"translate3d("+g+"px, "+b+"px, 0)",T)):Object.assign({},S,((n={})[P]=k?b+"px":"",n[D]=L?g+"px":"",n.transform="",n))}var z={left:"right",right:"left",bottom:"top",top:"bottom"};function X(e){return e.replace(/left|right|bottom|top/g,(function(e){return z[e]}))}var Y={start:"end",end:"start"};function G(e){return e.replace(/start|end/g,(function(e){return Y[e]}))}function J(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function K(n,o){return o===P?J(function(t){var n=e(t),o=u(t),r=n.visualViewport,i=o.clientWidth,a=o.clientHeight,s=0,f=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,f=r.offsetTop)),{width:i,height:a,x:s+l(t),y:f}}(n)):t(o)?function(e){var t=s(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(o):J(function(e){var t,n=u(e),o=f(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=r(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=r(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-o.scrollLeft+l(e),d=-o.scrollTop;return"rtl"===p(i||n).direction&&(c+=r(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:c,y:d}}(u(n)))}function Q(e,a){void 0===a&&(a={});var f,l=a,d=l.placement,h=void 0===d?e.placement:d,m=l.boundary,g=void 0===m?"clippingParents":m,b=l.rootBoundary,w=void 0===b?P:b,A=l.elementContext,L=void 0===A?W:A,D=l.altBoundary,M=void 0!==D&&D,B=l.padding,H=void 0===B?0:B,R=function(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}("number"!=typeof H?H:(f=H,k.reduce((function(e,t){return e[t]=f,e}),{}))),T=L===W?"reference":W,S=e.rects.popper,V=e.elements[M?T:L],C=function(e,a,s){var f="clippingParents"===a?function(e){var r=y(v(e)),i=["absolute","fixed"].indexOf(p(e).position)>=0&&n(e)?x(e):e;return t(i)?r.filter((function(e){return t(e)&&function(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}(e,i)&&"body"!==c(e)})):[]}(e):[].concat(a),u=[].concat(f,[s]),l=u[0],d=u.reduce((function(t,n){var o=K(e,n);return t.top=r(o.top,t.top),t.right=i(o.right,t.right),t.bottom=i(o.bottom,t.bottom),t.left=r(o.left,t.left),t}),K(e,l));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}(t(V)?V:V.contextElement||u(e.elements.popper),g,w),I=s(e.elements.reference),N=_({reference:I,element:S,strategy:"absolute",placement:h}),q=J(Object.assign({},S,N)),F=L===W?q:I,U={top:C.top-F.top+R.top,bottom:F.bottom-C.bottom+R.bottom,left:C.left-F.left+R.left,right:F.right-C.right+R.right},z=e.modifiersData.offset;if(L===W&&z){var X=z[h];Object.keys(U).forEach((function(e){var t=[E,j].indexOf(e)>=0?1:-1,n=[O,j].indexOf(e)>=0?"y":"x";U[e]+=X[n]*t}))}return U}function Z(e,t,n){return r(e,i(t,n))}const $=function(e){void 0===e&&(e={});var n=e,o=n.defaultModifiers,r=void 0===o?[]:o,i=n.defaultOptions,a=void 0===i?S:i;return function(e,n,o){void 0===o&&(o=a);var i,s,f={placement:"bottom",orderedModifiers:[],options:Object.assign({},S,a),modifiersData:{},elements:{reference:e,popper:n},attributes:{},styles:{}},c=[],u=!1,l={state:f,setOptions:function(o){var i="function"==typeof o?o(f.options):o;p(),f.options=Object.assign({},a,f.options,i),f.scrollParents={reference:t(e)?y(e):e.contextElement?y(e.contextElement):[],popper:y(n)};var s,u,d=function(e){var t=T(e);return R.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(r,f.options.modifiers),u=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return f.orderedModifiers=d.filter((function(e){return e.enabled})),f.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var i=r({state:f,name:t,instance:l,options:o});c.push(i||function(){})}})),l.update()},forceUpdate:function(){if(!u){var e=f.elements,t=e.reference,n=e.popper;if(V(t,n)){f.rects={reference:h(t,x(n),"fixed"===f.options.strategy),popper:m(n)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach((function(e){return f.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<f.orderedModifiers.length;o++)if(!0!==f.reset){var r=f.orderedModifiers[o],i=r.fn,a=r.options,s=void 0===a?{}:a,c=r.name;"function"==typeof i&&(f=i({state:f,options:s,name:c,instance:l})||f)}else f.reset=!1,o=-1}}},update:(i=function(){return new Promise((function(e){l.forceUpdate(),e(f)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(i())}))}))),s}),destroy:function(){p(),u=!0}};if(!V(e,n))return l;function p(){c.forEach((function(e){return e()})),c=[]}return l.setOptions(o).then((function(e){!u&&o.onFirstUpdate&&o.onFirstUpdate(e)})),l}}({strategy:"fixed",defaultModifiers:[...[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var n=t.state,o=t.instance,r=t.options,i=r.scroll,a=void 0===i||i,s=r.resize,f=void 0===s||s,c=e(n.elements.popper),u=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",o.update,C)})),f&&c.addEventListener("resize",o.update,C),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",o.update,C)})),f&&c.removeEventListener("resize",o.update,C)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=_({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,f=void 0===s||s,c={placement:I(t.placement),variation:N(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,U(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:f})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,U(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var o=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];n(i)&&c(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,o={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,o.popper),t.styles=o,t.elements.arrow&&Object.assign(t.elements.arrow.style,o.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:o[e]).reduce((function(e,t){return e[t]="",e}),{});n(r)&&c(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]}],{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,a=n.altAxis,s=void 0===a||a,f=n.fallbackPlacements,c=n.padding,u=n.boundary,l=n.rootBoundary,p=n.altBoundary,d=n.flipVariations,h=void 0===d||d,m=n.allowedAutoPlacements,v=t.options.placement,g=I(v),y=f||(g!==v&&h?function(e){if(I(e)===L)return[];var t=X(e);return[G(e),t,G(t)]}(v):[X(v)]),b=[v].concat(y).reduce((function(e,n){return e.concat(I(n)===L?function(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,f=n.allowedAutoPlacements,c=void 0===f?H:f,u=N(o),l=u?s?B:B.filter((function(e){return N(e)===u})):k,p=l.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=l);var d=p.reduce((function(t,n){return t[n]=Q(e,{placement:n,boundary:r,rootBoundary:i,padding:a})[I(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:u,rootBoundary:l,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,M=new Map,P=!0,W=b[0],R=0;R<b.length;R++){var T=b[R],S=I(T),V=N(T)===D,C=[O,j].indexOf(S)>=0,q=C?"width":"height",_=Q(t,{placement:T,boundary:u,rootBoundary:l,altBoundary:p,padding:c}),F=C?V?E:A:V?j:O;w[q]>x[q]&&(F=X(F));var U=X(F),z=[];if(i&&z.push(_[S]<=0),s&&z.push(_[F]<=0,_[U]<=0),z.every((function(e){return e}))){W=T,P=!1;break}M.set(T,z)}if(P)for(var Y=function(e){var t=b.find((function(t){var n=M.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return W=t,"break"},J=h?3:1;J>0&&"break"!==Y(J);J--);t.placement!==W&&(t.modifiersData[o]._skip=!0,t.placement=W,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,a=n.mainAxis,s=void 0===a||a,f=n.altAxis,c=void 0!==f&&f,u=n.boundary,l=n.rootBoundary,p=n.altBoundary,d=n.padding,h=n.tether,v=void 0===h||h,g=n.tetherOffset,y=void 0===g?0:g,b=Q(t,{boundary:u,rootBoundary:l,padding:d,altBoundary:p}),w=I(t.placement),L=N(t.placement),k=!L,M=q(w),P="x"===M?"y":"x",W=t.modifiersData.popperOffsets,B=t.rects.reference,H=t.rects.popper,R="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,T="number"==typeof R?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(W){if(s){var C,_="y"===M?O:A,F="y"===M?j:E,U="y"===M?"height":"width",z=W[M],X=z+b[_],Y=z-b[F],G=v?-H[U]/2:0,J=L===D?B[U]:H[U],K=L===D?-H[U]:-B[U],$=t.elements.arrow,ee=v&&$?m($):{width:0,height:0},te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ne=te[_],oe=te[F],re=Z(0,B[U],ee[U]),ie=k?B[U]/2-G-re-ne-T.mainAxis:J-re-ne-T.mainAxis,ae=k?-B[U]/2+G+re+oe+T.mainAxis:K+re+oe+T.mainAxis,se=t.elements.arrow&&x(t.elements.arrow),fe=se?"y"===M?se.clientTop||0:se.clientLeft||0:0,ce=null!=(C=null==S?void 0:S[M])?C:0,ue=z+ae-ce,le=Z(v?i(X,z+ie-ce-fe):X,z,v?r(Y,ue):Y);W[M]=le,V[M]=le-z}if(c){var pe,de="x"===M?O:A,he="x"===M?j:E,me=W[P],ve="y"===P?"height":"width",ge=me+b[de],ye=me-b[he],be=-1!==[O,A].indexOf(w),we=null!=(pe=null==S?void 0:S[P])?pe:0,xe=be?ge:me-B[ve]-H[ve]-we+T.altAxis,Oe=be?me+B[ve]+H[ve]-we-T.altAxis:ye,je=v&&be?function(e,t,n){var o=Z(e,t,n);return o>n?n:o}(xe,me,Oe):Z(v?xe:ge,me,v?Oe:ye);W[P]=je,V[P]=je-me}t.modifiersData[o]=V}},requiresIfExists:["offset"]}]}),ee=e=>{e.popperInstance?(e.popperInstance.setOptions((e=>({...e,modifiers:[...e.modifiers,{name:"eventListeners",enabled:!0}]}))),e.popperInstance.update()):e.popperInstance=$(e,e.querySelector(".ok-ui-tooltip__message"),{placement:"top"}),e.setAttribute("data-show","")},te=e=>{e.removeAttribute("data-show"),e.popperInstance&&e.popperInstance.setOptions((e=>({...e,modifiers:[...e.modifiers,{name:"eventListeners",enabled:!1}]})))},ne=e=>t=>{"ok-ui-tooltip"===t.target.className&&e(t.target)};["mouseover","focusin"].forEach((e=>window.addEventListener(e,ne(ee)))),["mouseout","focusout"].forEach((e=>window.addEventListener(e,ne(te))))})();',this.cardContainer=document.createElement("div"),this.cardContainer.className="ok-ui",this.root=this.outerContainer.attachShadow({mode:"closed"}),this.root.appendChild(e),this.root.appendChild(t),this.root.appendChild(this.cardContainer)}}class qn extends tn{setValue(e){const t=super.getElement();null!==t&&(null!==e&&null!==e.value?t.innerText=e.value.substring(0,6):t.innerText="")}bind(){null!==this.field&&this.setValue(this.field.value)}}const Xn=new In("ok-ui","#18a9e1");let Qn=null;Qn=new class{constructor(e,t,n,o){this.model=new Zt,this.locale=t,this.config=n,this.log=o,this.view=new Zn(e,t,n),this.model.onlyThisSiteEnabled=n.siteOnlyEnabled,this.mapFieldsToUI(),this.load().then((()=>this.display())).catch((e=>o.Error("constructor",e)))}display(e){this.setCard(null!=e?e:this.getCard())}getCard(){return this.model.status===kn.NOT_PARTICIPATING?null:this.model.allPersisted&&this.model.status===kn.PARTICIPATING?"snackbar":this.model.nonePersisted&&this.config.displayIntro&&this.model.status===kn.REDIRECT_NEEDED?"intro":"settings"}setCard(e){this.stopSnackbarHide(),this.view.hidePopup(),this.view.setCard(e),this.model.bind(),this.bindActions(),this.view.showPopup()}mapFieldsToUI(){this.model.pref.addBinding(new rn(this.view,"ok-ui-marketing-1",zt.personalized,zt.notSet)),this.model.pref.addBinding(new rn(this.view,"ok-ui-marketing-0",zt.standard,zt.notSet)),this.model.pref.addBinding(new sn(this.view,"ok-ui-display-marketing",new Map([[zt.personalized,this.config.replace(this.locale.customizePersonalized)],[zt.standard,this.config.replace(this.locale.customizeStandard)],[zt.custom,this.config.replace(this.locale.customizeCustomized)],[zt.notSet,this.config.replace(this.locale.customizeCustomized)]]))),this.model.pref.addBinding(new sn(this.view,"ok-ui-snackbar-heading",new Map([[zt.personalized,this.config.replace(this.locale.snackbarHeadingPersonalized)],[zt.standard,this.config.replace(this.locale.snackbarHeadingStandard)],[zt.custom,this.config.replace(this.locale.snackbarHeadingCustomized)],[zt.notSet,this.config.replace(this.locale.snackbarHeadingCustomized)]]))),this.model.pref.addBinding(new sn(this.view,"ok-ui-snackbar-body",new Map([[zt.personalized,this.config.replace(this.locale.snackbarBodyPersonalized)],[zt.standard,this.config.replace(this.locale.snackbarBodyStandard)],[zt.custom,this.config.replace(this.locale.snackbarBodyCustomized)],[zt.notSet,this.config.replace(this.locale.snackbarBodyCustomized)]]))),this.model.pref.addBinding(new ln(this.view,"ok-ui-settings-rid",this.model)),this.model.onlyThisSite.addBinding(new on(this.view,"ok-ui-only-this-site")),this.model.onlyThisSite.addBinding(new un(this.view,"ok-ui-only-this-site-container",this.config));for(let e=Zt.MinId;e<=Zt.MaxId;e++)this.model.tcf.get(e).addBinding(new on(this.view,`ok-ui-preference-${e}`));this.model.all.addBinding(new on(this.view,"ok-ui-preference-all")),this.model.canSave.addBinding(new an(this.view,"ok-ui-button-save")),this.model.rid.addBinding(new qn(this.view,"ok-ui-display-rid"))}load(){return en(this,void 0,void 0,(function*(){this.getIdsAndPreferencesFromLocal()||(yield this.getIdsAndPreferencesFromGlobal(!1))||!1===this.config.displayIntro&&(yield this.getIdsAndPreferencesFromGlobal(!0))}))}getIdsAndPreferencesFromGlobal(e){return en(this,void 0,void 0,(function*(){Tn(dn.identifiers),Tn(dn.preferences),Tn(dn.lastRefresh);const t=yield Dn({proxyHostName:this.config.proxyHostName,triggerRedirectIfNeeded:e,showPrompt:Rn.doNotPrompt});if(this.log.Message("global data",t),this.model.status=t.status,null!==t.data)try{return this.setPersistedFlag(t.data.identifiers),this.model.setFromIdsAndPreferences(t.data),!0}catch(e){this.log.Warn("Problem parsing global ids and preferences",e)}return!1}))}getIdsAndPreferencesFromLocal(){if(this.config.siteOnlyEnabled){const e=Cn(this.config.siteOnlyCookieTcfCore);if(void 0!==e)return this.getIdsAndPreferencesFromTcf(e),!0}const e=(()=>{if(!Cn(dn.lastRefresh))return;const e=e=>e===kn.REDIRECT_NEEDED||e===kn.NOT_PARTICIPATING?void 0:e,t=e(Cn(dn.identifiers)),n=e(Cn(dn.preferences)),o=wn(t,n);return void 0!==o.identifiers&&0!==o.identifiers.length&&void 0!==o.preferences?o:void 0})();if(void 0!==e)try{return this.log.Message("local PAF data",e),this.model.status=kn.PARTICIPATING,this.setPersistedFlag(e.identifiers),this.model.setFromIdsAndPreferences(e),!0}catch(e){this.log.Warn("Problem parsing local ids and preferences",e)}return this.model.status=kn.REDIRECT_NEEDED,!1}getIdsAndPreferencesFromTcf(e){const t=new Qt(e).getPurposesConsent();if(t.length!==Zt.MaxId)throw`TCF core string contains '${t.length}' purposes consent flags, but data model requires '${Zt.MaxId}'`;for(let e=0;e<=t.length;e++){const n=this.model.tcf.get(e+1);void 0!==n&&(n.value=t[e])}this.model.onlyThisSite.value=!0,this.model.status=kn.NOT_PARTICIPATING,this.model.rid.value=null}setPersistedFlag(e){void 0!==e&&e.forEach((e=>e.persisted=!0))}bindActions(){this.bindActionElements(this.view.getActionElements(),"click"),"snackbar"===this.view.currentCard&&(this.countDown=setInterval((()=>this.view.hidePopup()),this.config.snackbarTimeoutMs))}stopSnackbarHide(){clearInterval(this.countDown)}bindActionElements(e,t){for(let n=0;n<e.length;n++){const o=e[n],i=o.getAttribute("data-card");null!==i&&o.addEventListener(t,(e=>{this.setCard(i),e.preventDefault()}));const r=o.getAttribute("data-action");null!==r&&o.addEventListener(t,(e=>{this.processAction(r),e.preventDefault()}))}}processAction(e){switch(e){case"reset":this.actionReset().catch((e=>this.log.Error(e)));break;case"refresh":this.getIdsAndPreferencesFromGlobal(!0).catch((e=>this.log.Error(e)));break;case"save":this.actionSave().catch((e=>this.log.Error(e)));break;case"refuseAll":this.actionRefuseAll().catch((e=>this.log.Error(e)));break;default:throw`Action '${e}' is not known`}}actionReset(){return en(this,void 0,void 0,(function*(){this.model.rid.value=yield this.resetId()}))}actionRefuseAll(){return en(this,void 0,void 0,(function*(){Bn(dn.identifiers,kn.NOT_PARTICIPATING),Bn(dn.preferences,kn.NOT_PARTICIPATING),this.stopSnackbarHide(),this.view.hidePopup()}))}actionSave(){return en(this,void 0,void 0,(function*(){this.model.onlyThisSite.value?this.actionSaveLocal():yield this.actionSaveGlobal(),this.stopSnackbarHide(),this.view.hidePopup()}))}actionSaveLocal(){const e=this.config.tcfCore.clone(),t=[];e.setDate(new Date);for(let e=Zt.MinId;e<=Zt.MaxId;e++){const n=this.model.tcf.get(e);null!==n&&t.push(n.value)}e.setPurposesConsent(t),document.cookie=`${this.config.siteOnlyCookieTcfCore}=${e.toString()};expires=${fn()}`,Tn(dn.identifiers),Tn(dn.preferences),Tn(dn.lastRefresh)}actionSaveGlobal(){return en(this,void 0,void 0,(function*(){const e=yield this.getNewIdIfNeeded();this.model.rid.value=e;const t=yield this.signIfNeeded();this.model.pref.setPersisted(t);const n=yield this.writeIdsAndPrefGlobal();this.setPersistedFlag(null==n?void 0:n.identifiers),this.model.setFromIdsAndPreferences(n),this.config.siteOnlyEnabled&&Tn(this.config.siteOnlyCookieTcfCore)}))}writeIdsAndPrefGlobal(){return en(this,void 0,void 0,(function*(){yield Mn(this.config.proxyHostName,this.model.pref.persisted.data.use_browsing_for_personalization,[this.model.rid.value]);return(yield Dn({proxyHostName:this.config.proxyHostName,triggerRedirectIfNeeded:!0,showPrompt:Rn.doNotPrompt})).data}))}getNewIdIfNeeded(){return null===this.model.rid.value||null===this.model.rid.value.source||null===this.model.rid.value.source.signature?this.resetId():Promise.resolve(this.model.rid.value)}resetId(){return zn({proxyHostName:this.config.proxyHostName})}signIfNeeded(){return this.model.pref.hasChanged?jn({proxyHostName:this.config.proxyHostName},{identifiers:[this.model.rid.value],unsignedPreferences:{data:this.model.pref.value,version:null}}):Promise.resolve(this.model.pref.persisted)}}(document.currentScript,new class extends class{constructor(){this.introBody=["NOT SET"],this.aboutBody=["NOT SET"],this.settingsBody=["NOT SET"],this.snackbarHeadingPersonalized="NOT SET",this.snackbarHeadingStandard="NOT SET",this.snackbarHeadingCustomized="NOT SET",this.snackbarBodyPersonalized="NOT SET",this.snackbarBodyStandard="NOT SET",this.snackbarBodyCustomized="NOT SET",this.customizeStandard="NOT SET",this.customizePersonalized="NOT SET",this.customizeCustomized="NOT SET",this.customizeLabels=["NOT SET"],this.customizeTips=["NOT SET"],this.customizeHtml=null}}{constructor(t){super(),this.Logo="",this.LogoCenter="",Object.assign(this,e),Object.assign(this,this.getLocale(t)),this.introBodyHTML=this.toHtml(this.introBody),this.aboutBodyHTML=this.toHtml(this.aboutBody),this.settingsBodyHTML=this.toHtml(this.settingsBody)}toHtml(e){return`<p>${e.join("</p><p>")}</p>`}getLocale(n){for(const o of n)switch(o){case"en-GB":return t;case"en-US":return e}return e}}(window.navigator.languages),new class{constructor(e,t){this._tcfCore=null,this.script=e,this.log=t}get displayIntro(){const e=this.getValue("data-display-intro",!1,"True to display the introduction card, or false to skip straight to the settings card after a possible redirect.");return Boolean(JSON.parse(e))}get snackbarTimeoutMs(){const e=this.getValue("data-snackbar-timeout-ms",!0,"The number of milliseconds to wait for the snackbar to disappear.");return Number(JSON.parse(e))}get proxyHostName(){return this.getValue("data-proxy-host-name",!0,"The host name to use when reading and writing data from the global storage. Usually obtained from the CMP provider.")}get brandName(){return this.getValue("data-brand-name",!0,"The brand name to use throughout the user interface.")}get brandLogoUrl(){return this.getValue("data-brand-logo-url",!1,"This image is used as the logo when the this site only check box is selected.")}get brandPrivacyUrl(){return this.getValue("data-brand-privacy-url",!0,"This URL is needed to inform the user about the privacy policy of the brand.")}get siteOnlyCookieTcfCore(){return this.getValue("data-site-only-cookie-tcf-core",!1,"The name of the cookie used to store the TCF core string. If not provided then the this site only option is not available.")}get tcfCore(){if(null===this._tcfCore){const e=this.getValue("data-template-tcf-core-string",!1,"The template TCF core string.");this._tcfCore=new Qt(e)}return this._tcfCore}get siteOnlyEnabled(){return null!==this.tcfCore&&null!==this.siteOnlyCookieTcfCore}replace(e){return e.replace("[BrandName]",this.brandName).replace("[BrandPrivacyUrl]",this.brandPrivacyUrl)}getValue(e,t,n){const o=this.script.getAttribute(e);return null===o&&!0===t?(this.missingAttribute(e,n),null):o}missingAttribute(e,t){let n=`Attribute '${e}' needs to be added as an attribute of the script tag.`;null!==t&&(n+=` ${t}`),this.log.Error(n)}}(document.currentScript,Xn),Xn),null!==(Un=window.PAFUI)&&void 0!==Un||(window.PAFUI={promptConsent:()=>new Promise((e=>{Xn.Message("promptConsent"),null!==Qn&&Qn.display("settings"),e(void 0)})),showNotification:e=>{null!==Qn&&Qn.display("settings")},controller:Qn})}();
